/*!
 * Jodit Editor (https://xdsoft.net/jodit/)
 * Released under MIT see LICENSE.txt in the project root for license information.
 * Copyright (c) 2013-2021 Valeriy Chupurnov. All rights reserved. https://xdsoft.net
 */
import './image-editor.less';
import type { ImageEditorActionBox, ImageEditorOptions, IViewBased, IFileBrowserDataProvider } from '../../types';
import { ViewComponent } from '../../core/component';
import { Dialog } from '../dialog';
declare module '../../config' {
    interface Config {
        imageeditor: ImageEditorOptions;
    }
}
/**
 * The module allows you toWYSIWYG edit the image: resize or cut any part of it
 *
 */
export declare class ImageEditor extends ViewComponent {
    /** @override */
    className(): string;
    private resizeUseRatio;
    private cropUseRatio;
    private readonly dialog;
    private image;
    private cropImage;
    private clicked;
    private target;
    private start_x;
    private start_y;
    private top_x;
    private top_y;
    private width;
    private height;
    private activeTab;
    private naturalWidth;
    private naturalHeight;
    private ratio;
    private new_h;
    private new_w;
    private diff_x;
    private diff_y;
    private buttons;
    private editor;
    private resize_box;
    private crop_box;
    private sizes;
    private resizeHandler;
    private cropHandler;
    private cropBox;
    private resizeBox;
    private static calcValueByPercent;
    private calcCropBox;
    private showCrop;
    private updateCropBox;
    private updateResizeBox;
    private setHandlers;
    private onTitleModeClick;
    private onChangeSizeInput;
    private onResizeHandleMouseDown;
    private onGlobalMouseUp;
    private onGlobalMouseMove;
    options: ImageEditorOptions;
    get o(): this['options'];
    onSave: (name: void | string, data: ImageEditorActionBox, hide: () => void, failed: (e: Error) => void) => void;
    /**
     * Hide image editor
     *
     * @method hide
     */
    hide(): void;
    /**
     * Open image editor
     *
     * @method open
     * @param {string} url
     * @param {function} save
     * @param {string} [save.name] new filename
     * @param {object} save.data Bound box for resize and crop operation
     * @param {string} save.data.action resize or crop
     * @param {object} save.data.box Bound box
     * @param {function} save.success called after success operation
     * @param {function} save.failed called after failed operation
     * @example
     * ```javascript
     * var jodit = new Jodit('.editor', {
     *		 imageeditor: {
     *				 crop: false,
     *				 closeAfterSave: true,
     *				 width: 500
     *		 }
     * });
     * jodit.imageeditor.open('http://xdsoft.net/jodit/images/test.png', function (name, data, success, failed) {
     *		 var img = jodit.node.c('img');
     *		 img.setAttribute('src', 'http://xdsoft.net/jodit/images/test.png');
     *		 if (box.action !== 'resize') {
     *					return failed('Sorry it is work only in resize mode. For croping use FileBrowser');
     *		 }
     *		 img.style.width = data.w;
     *		 img.style.height = data.h;
     *		 jodit.s.insertNode(img);
     *		 success();
     * });
     * ```
     */
    open(url: string, save: (newname: string | void, box: ImageEditorActionBox, success: () => void, failed: (error: Error) => void) => void): Promise<Dialog>;
    constructor(editor: IViewBased);
    /** @override */
    destruct(): any;
}
/**
 * Open Image Editor
 */
export declare function openImageEditor(this: IViewBased & {
    dataProvider: IFileBrowserDataProvider;
}, href: string, name: string, path: string, source: string, onSuccess?: () => void, onFailed?: (error: Error) => void): Promise<Dialog>;
