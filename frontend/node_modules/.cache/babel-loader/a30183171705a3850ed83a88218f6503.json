{"ast":null,"code":"var _jsxFileName = \"E:\\\\TLCN\\\\LearningEnglishWebsite\\\\frontend\\\\src\\\\components\\\\WordAdmin\\\\WordItem\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { cloudinaryImgOptimize } from \"helper\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport useStyle from \"./style\";\nimport wordApi from \"apis/wordApi\";\nimport WordDetailModal from \"components/UI/WordDetailModal\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { DEFAULTS } from './../../../constants/index';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { deleteWord } from \"redux/actions/wordAction\";\nimport Speaker from \"components/UI/Speaker\";\nimport { useParams } from \"react-router\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction WordItem({\n  _id,\n  word,\n  type,\n  phonetic,\n  picture,\n  mean\n}) {\n  _s();\n\n  const classes = useStyle();\n  const imgSrc = cloudinaryImgOptimize(picture ? picture : DEFAULTS.IMAGE_SRC, 50, 50, true, true);\n  const [modal, setModal] = useState({\n    loading: false,\n    open: false\n  });\n  const dispatch = useDispatch();\n  const {\n    topic_id\n  } = useParams();\n  const history = useHistory();\n\n  const deleteHandler = () => {\n    if (window.confirm('Bạn chắc chắn muốn xóa bài viết này?')) {\n      dispatch(deleteWord(word, type));\n      dispatch(setMessage(\"Delete successfully\", \"success\"));\n      window.location.reload();\n    }\n  };\n\n  const onShowDetail = async id => {\n    try {\n      setModal({\n        open: true,\n        loading: true\n      });\n      const apiRes = await wordApi.getWord(id);\n\n      if (apiRes) {\n        setModal({\n          open: true,\n          loading: false,\n          ...apiRes.data\n        });\n      }\n    } catch (error) {\n      setModal({\n        open: false,\n        loading: false\n      });\n      dispatch(setMessage(\"Không thể lấy từ\", \"error\"));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${classes.root} flex-center-between`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100 flex-center--ver\",\n        onClick: () => onShowDetail(_id),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.picture,\n          src: imgSrc,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-8 flex-grow-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: classes.word,\n            children: [word, \" \", Boolean(type) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.type,\n              children: [\"( \", type, \" )\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), Boolean(phonetic) && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${classes.phonetic} phonetic`,\n            children: [\"/ \", phonetic, \" /\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.mean,\n            children: mean\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), topic_id ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-center--ver\",\n        children: /*#__PURE__*/_jsxDEV(Speaker, {\n          text: word\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-center--ver\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mr-5\",\n          children: /*#__PURE__*/_jsxDEV(EditIcon, {\n            className: \"dyno-setting-icon\",\n            onClick: () => history.push(`/admin/word/edit/${_id}`)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DeleteIcon, {\n          className: \"dyno-setting-icon\",\n          onClick: () => deleteHandler()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), modal.open && /*#__PURE__*/_jsxDEV(WordDetailModal, { ...modal,\n      onClose: () => setModal({\n        open: false,\n        loading: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(WordItem, \"q85dAQo8ES7XqkAtZQIR161cxb4=\", false, function () {\n  return [useStyle, useDispatch, useParams, useHistory];\n});\n\n_c = WordItem;\nWordItem.propTypes = {\n  mean: PropTypes.string,\n  onShowDetail: PropTypes.func,\n  phonetic: PropTypes.string,\n  picture: PropTypes.string,\n  type: PropTypes.string,\n  word: PropTypes.string\n};\nWordItem.defaultProps = {\n  onShowDetail: function () {}\n};\nexport default WordItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"WordItem\");","map":{"version":3,"sources":["E:/TLCN/LearningEnglishWebsite/frontend/src/components/WordAdmin/WordItem/index.js"],"names":["cloudinaryImgOptimize","PropTypes","React","useState","useStyle","wordApi","WordDetailModal","useDispatch","setMessage","DEFAULTS","EditIcon","DeleteIcon","deleteWord","Speaker","useParams","useHistory","WordItem","_id","word","type","phonetic","picture","mean","classes","imgSrc","IMAGE_SRC","modal","setModal","loading","open","dispatch","topic_id","history","deleteHandler","window","confirm","location","reload","onShowDetail","id","apiRes","getWord","data","error","root","Boolean","push","propTypes","string","func","defaultProps"],"mappings":"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","sourcesContent":["\nimport { cloudinaryImgOptimize } from \"helper\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport useStyle from \"./style\";\nimport wordApi from \"apis/wordApi\";\nimport WordDetailModal from \"components/UI/WordDetailModal\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { DEFAULTS } from './../../../constants/index';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { deleteWord } from \"redux/actions/wordAction\";\nimport Speaker from \"components/UI/Speaker\";\nimport { useParams } from \"react-router\";\nimport { useHistory } from 'react-router-dom';\n\nfunction WordItem({ _id, word, type, phonetic, picture, mean }) {\n  const classes = useStyle();\n  const imgSrc = cloudinaryImgOptimize(\n    picture ? picture : DEFAULTS.IMAGE_SRC,\n    50,\n    50,\n    true,\n    true\n  );\n\n  const [modal, setModal] = useState({ loading: false, open: false });\n  const dispatch = useDispatch();\n  const { topic_id } = useParams();\n  const history = useHistory();\n\n  const deleteHandler = () => {\n    if (window.confirm('Bạn chắc chắn muốn xóa bài viết này?')) {\n      dispatch(deleteWord(word, type));\n      dispatch(setMessage(\"Delete successfully\", \"success\"));\n     window.location.reload();\n    }\n  };\n\n\n  const onShowDetail = async (id) => {\n    try {\n      setModal({ open: true, loading: true });\n      const apiRes = await wordApi.getWord(id);\n      if (apiRes) {\n        setModal({ open: true, loading: false, ...apiRes.data });\n      }\n    } catch (error) {\n      setModal({ open: false, loading: false });\n      dispatch(setMessage(\"Không thể lấy từ\", \"error\"));\n    }\n  };\n\n  return (\n    <>\n      <div className={`${classes.root} flex-center-between`}>\n        <div \n          className=\"w-100 flex-center--ver\"\n          onClick={() => onShowDetail(_id)}\n        >\n          <img className={classes.picture} src={imgSrc} alt=\"\" />\n          <div className=\"ml-8 flex-grow-1\">\n            <h3 className={classes.word}>\n              {word}{\" \"}\n              {Boolean(type) && (\n                <span className={classes.type}>( {type} )</span>\n              )}\n            </h3>\n            {Boolean(phonetic) && (\n              <p className={`${classes.phonetic} phonetic`}>/ {phonetic} /</p>\n            )}\n            <p className={classes.mean}>{mean}</p>\n          </div>\n        </div>\n        {topic_id ?  (\n          <div className=\"flex-center--ver\">\n            <Speaker text={word} />\n          </div>\n        ):(\n\n        <div className=\"flex-center--ver\">\n        <div className=\"mr-5\">\n          <EditIcon className=\"dyno-setting-icon\"\n          onClick={() => history.push(`/admin/word/edit/${_id}`)}\n          />\n        </div>\n        <DeleteIcon className=\"dyno-setting-icon\" \n         onClick={() => deleteHandler()}\n         />     \n      </div>\n      )}\n      </div>\n      {modal.open && (\n        <WordDetailModal\n          {...modal}\n          onClose={() => setModal({ open: false, loading: false })}\n        />\n      )}\n    </>\n  );\n}\n\nWordItem.propTypes = {\n  mean: PropTypes.string,\n  onShowDetail: PropTypes.func,\n  phonetic: PropTypes.string,\n  picture: PropTypes.string,\n  type: PropTypes.string,\n  word: PropTypes.string,\n};\n\nWordItem.defaultProps = {\n  onShowDetail: function () {},\n};\n\nexport default WordItem;\n"]},"metadata":{},"sourceType":"module"}