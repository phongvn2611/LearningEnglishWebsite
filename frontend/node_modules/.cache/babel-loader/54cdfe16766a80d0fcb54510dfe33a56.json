{"ast":null,"code":"var _jsxFileName = \"E:\\\\TLCN\\\\LearningEnglishWebsite\\\\frontend\\\\src\\\\components\\\\Navigation\\\\Settings\\\\Theme\\\\PaletteColor\\\\index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { THEME_KEYS } from 'constants/index';\nimport { debounce } from 'helper';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport useStyle from './style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet debounceTimer = null;\nconst htmlRoot = document.querySelector(':root');\n\nfunction ColorBox({\n  color,\n  label,\n  colorKey\n}) {\n  _s();\n\n  const classes = useStyle();\n  const [value, setValue] = useState(color);\n  const titleTooltip = `${label}: ${value}`;\n\n  const onColorChange = colorVal => {\n    debounceTimer = debounce(debounceTimer, () => {\n      // Update UI\n      htmlRoot.style.setProperty(colorKey, colorVal); // update local storage\n\n      const lsPalettes = JSON.parse(localStorage.getItem(THEME_KEYS.PALETTE_KEY));\n      localStorage.setItem(THEME_KEYS.PALETTE_KEY, JSON.stringify(lsPalettes.map(item => item.key === colorKey ? { ...item,\n        color: colorVal\n      } : item))); // Update input color\n\n      setValue(colorVal);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Tooltip, {\n    title: titleTooltip,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.colorBox,\n      style: {\n        backgroundColor: value\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"color\",\n        className: classes.colorBoxInput,\n        value: value,\n        onChange: e => onColorChange(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ColorBox, \"ieDesYX23hLAjKrH37xHt1B7VSs=\", false, function () {\n  return [useStyle];\n});\n\n_c = ColorBox;\n\nfunction PaletteColor({\n  palettes\n}) {\n  _s2();\n\n  const classes = useStyle();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.paletteRoot,\n    children: palettes && palettes.map((item, index) => /*#__PURE__*/_jsxDEV(ColorBox, {\n      label: item.label,\n      color: item.color,\n      colorKey: item.key\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(PaletteColor, \"eTC39ZLyyKld6i5R1gil2d/OHGM=\", false, function () {\n  return [useStyle];\n});\n\n_c2 = PaletteColor;\nPaletteColor.propTypes = {\n  palettes: PropTypes.array\n};\nPaletteColor.defaultProps = {\n  palettes: []\n};\nColorBox.propTypes = {\n  colorKey: PropTypes.string,\n  color: PropTypes.string,\n  label: PropTypes.string\n};\nexport default PaletteColor;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ColorBox\");\n$RefreshReg$(_c2, \"PaletteColor\");","map":{"version":3,"sources":["E:/TLCN/LearningEnglishWebsite/frontend/src/components/Navigation/Settings/Theme/PaletteColor/index.js"],"names":["Tooltip","THEME_KEYS","debounce","PropTypes","React","useState","useStyle","debounceTimer","htmlRoot","document","querySelector","ColorBox","color","label","colorKey","classes","value","setValue","titleTooltip","onColorChange","colorVal","style","setProperty","lsPalettes","JSON","parse","localStorage","getItem","PALETTE_KEY","setItem","stringify","map","item","key","colorBox","backgroundColor","colorBoxInput","e","target","PaletteColor","palettes","paletteRoot","index","propTypes","array","defaultProps","string"],"mappings":"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","sourcesContent":["import Tooltip from '@material-ui/core/Tooltip';\nimport { THEME_KEYS } from 'constants/index';\nimport { debounce } from 'helper';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport useStyle from './style';\nlet debounceTimer = null;\nconst htmlRoot = document.querySelector(':root');\n\nfunction ColorBox({ color, label, colorKey }) {\n  const classes = useStyle();\n  const [value, setValue] = useState(color);\n  const titleTooltip = `${label}: ${value}`;\n\n  const onColorChange = (colorVal) => {\n    debounceTimer = debounce(debounceTimer, () => {\n      // Update UI\n      htmlRoot.style.setProperty(colorKey, colorVal);\n\n      // update local storage\n      const lsPalettes = JSON.parse(\n        localStorage.getItem(THEME_KEYS.PALETTE_KEY),\n      );\n\n      localStorage.setItem(\n        THEME_KEYS.PALETTE_KEY,\n        JSON.stringify(\n          lsPalettes.map((item) =>\n            item.key === colorKey ? { ...item, color: colorVal } : item,\n          ),\n        ),\n      );\n\n      // Update input color\n      setValue(colorVal);\n    });\n  };\n\n  return (\n    <Tooltip title={titleTooltip}>\n      <div className={classes.colorBox} style={{ backgroundColor: value }}>\n        <input\n          type=\"color\"\n          className={classes.colorBoxInput}\n          value={value}\n          onChange={(e) => onColorChange(e.target.value)}\n        />\n      </div>\n    </Tooltip>\n  );\n}\n\nfunction PaletteColor({ palettes }) {\n  const classes = useStyle();\n\n  return (\n    <div className={classes.paletteRoot}>\n      {palettes &&\n        palettes.map((item, index) => (\n          <ColorBox\n            key={index}\n            label={item.label}\n            color={item.color}\n            colorKey={item.key}\n          />\n        ))}\n    </div>\n  );\n}\n\nPaletteColor.propTypes = {\n  palettes: PropTypes.array,\n};\n\nPaletteColor.defaultProps = {\n  palettes: [],\n};\n\nColorBox.propTypes = {\n  colorKey: PropTypes.string,\n  color: PropTypes.string,\n  label: PropTypes.string,\n};\n\nexport default PaletteColor;\n"]},"metadata":{},"sourceType":"module"}