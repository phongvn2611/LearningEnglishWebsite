{"ast":null,"code":"var _jsxFileName = \"E:\\\\TLCN\\\\LearningEnglishWebsite\\\\frontend\\\\src\\\\components\\\\GrammarAdmin\\\\CreateGrammar\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nimport ResetIcon from \"@material-ui/icons/RotateLeft\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport InputCustom from \"components/UI/InputCustom\";\nimport SelectCustom from \"components/UI/SelectCustom\";\nimport PropTypes from \"prop-types\";\nimport React, { useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport InformationTooltip from \"./InformationTooltip\";\nimport useStyle from \"./style\";\nimport Box from \"@material-ui/core/Box\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { convertImageToBase64 } from \"helper\";\nimport { GRAMMAR_LEVEL } from \"constants/grammarLevels\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { DialogActions } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport InfiniteScroll from \"components/UI/InfiniteScroll\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  Title: yup.string().trim().required(\"Input value\"),\n  Content: yup.string().required(\"Input value\"),\n  Level: yup.string().required(\"Select one\").oneOf(GRAMMAR_LEVEL.map(i => i.value)),\n  LinkVideo: yup.string(),\n  Script: yup.string(),\n  Items: yup.array(),\n  Point: yup.string().required(\"Input value\"),\n  Examples: yup.string().required(\"Input value\")\n});\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`\n  };\n}\n\nfunction CreateGrammar({\n  onSubmitForm,\n  submitting\n}) {\n  _s();\n\n  var _errors$Title, _errors$Content, _errors$Level, _errors$Video, _errors$Script, _errors$Point, _errors$Examples;\n\n  const classes = useStyle();\n  const [resetFlag, setResetFlag] = useState(0);\n  const [value, setValue] = useState(1);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  }); //grammar item\n\n  const [loading, setLoading] = useState(true);\n  const [list, setList] = useState([]);\n  const [more, setMore] = useState(true); // toggle infinite scrolling\n\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [editItems, setEditItems] = useState(false);\n  const [indexEdit, setIndexEdit] = useState(-1);\n  const [grammarItems, setgrammarItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const totalPage = useRef(0);\n  const [point, setPoint] = useState({\n    Point: \"\",\n    Examples: \"\"\n  });\n\n  const handleChangeDialog = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setPoint({ ...point,\n      [name]: value\n    });\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setPoint({\n      Point: \"\",\n      Examples: \"\"\n    });\n  };\n\n  const handleOpenDialog = () => {\n    setOpenDialog(true);\n  };\n\n  const handleDialogSubmit = () => {\n    if (point.Point.trim() !== \"\") {\n      if (editItems) {\n        grammarItems[indexEdit] = point;\n        setEditItems(false);\n        setIndexEdit(-1);\n      } else {\n        grammarItems.push(point);\n      }\n    }\n\n    setOpenDialog(false);\n    setPoint({\n      Point: \"\",\n      Examples: \"\"\n    });\n  };\n\n  const onLoadData = () => {\n    if (page < totalPage.current) {\n      setPage(page + 1);\n    } else {\n      setMore(false);\n    }\n  };\n\n  const onClickItem = index => {\n    setPoint(grammarItems[index]);\n    setEditItems(true);\n    setIndexEdit(index);\n    setOpenDialog(true);\n  };\n\n  const deleleGrammarItems = index => {\n    let arr = [];\n\n    for (let i = 0; i < grammarItems.length; i++) {\n      if (i !== index) arr.push(grammarItems[i]);\n    }\n\n    setgrammarItems(arr);\n  }; //grammar item\n\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const defaultImg = \"https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png\";\n  const [image, setImage] = useState(defaultImg);\n  const [video, setVideo] = useState(null);\n  const [audio, setAudio] = useState(null);\n\n  const handleChangePicture = e => {\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n\n      convertImageToBase64(file).then(res => {\n        setImage(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleChangeAudio = e => {\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n\n      convertImageToBase64(file).then(res => {\n        setAudio(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleChangeVideo = e => {\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n\n      convertImageToBase64(file).then(res => {\n        setVideo(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const onSubmit = data => {\n    onSubmitForm({ ...data,\n      VidUpload: video,\n      Image: image,\n      Audio: audio,\n      Items: grammarItems\n    });\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: classes.title,\n      children: \"Th\\xEAm ng\\u1EEF ph\\xE1p\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dyno-break\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignContent: \"center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.avtWrap,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: image ? image : defaultImg,\n            alt: \"\",\n            className: `${classes.avt} w-100 h-100`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.cameraIconWrap} flex-center`,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: classes.fileInput,\n              onChange: handleChangePicture,\n              accept: \"image/*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        className: classes.grid,\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n            className: \"w-100\",\n            label: \"Title (*)\",\n            error: Boolean(errors.Title),\n            inputProps: {\n              autoFocus: true,\n              name: \"Title\",\n              ...register(\"Title\")\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), errors.Title && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Title = errors.Title) === null || _errors$Title === void 0 ? void 0 : _errors$Title.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n            className: \"w-100\",\n            label: \"Content (*)\",\n            error: Boolean(errors.Content),\n            inputProps: {\n              name: \"Content\",\n              ...register(\"Content\")\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), errors.Content && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Content = errors.Content) === null || _errors$Content === void 0 ? void 0 : _errors$Content.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(SelectCustom, {\n            className: \"w-100\",\n            label: \"Level (*)\",\n            options: GRAMMAR_LEVEL,\n            error: Boolean(errors.Level),\n            resetFlag: resetFlag,\n            index: 0,\n            inputProps: {\n              name: \"Level\",\n              ...register(\"Level\")\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), errors.type && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Level = errors.Level) === null || _errors$Level === void 0 ? void 0 : _errors$Level.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              borderBottom: 1,\n              borderColor: \"divider\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Tabs, {\n              value: value,\n              onChange: handleChange,\n              \"aria-label\": \"basic tabs example\",\n              indicatorColor: \"primary\",\n              children: [/*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Upload\",\n                ...a11yProps(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Link\",\n                ...a11yProps(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Audio\",\n                ...a11yProps(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: value,\n            index: 0,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                alignContent: \"center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.avtWrap,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `${classes.cameraIconWrap} flex-center`,\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      className: classes.fileInput,\n                      onChange: handleChangeVideo,\n                      accept: \"video/*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: value,\n            index: 1,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n                className: \"w-100\",\n                label: \"Link Video\",\n                multiline: true,\n                endAdornment: /*#__PURE__*/_jsxDEV(InformationTooltip, {\n                  title: \"Input link youtube\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this),\n                inputProps: {\n                  name: \"LinkVideo\",\n                  ...register(\"LinkVideo\")\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), errors.Video && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$Video = errors.Video) === null || _errors$Video === void 0 ? void 0 : _errors$Video.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: value,\n            index: 2,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                alignContent: \"center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.avtWrap,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `${classes.cameraIconWrap} flex-center`,\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      className: classes.fileInput,\n                      onChange: handleChangeAudio,\n                      accept: \"audio/*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n            className: \"w-100\",\n            label: \"Script\",\n            multiline: true,\n            endAdornment: /*#__PURE__*/_jsxDEV(InformationTooltip, {\n              title: \"Input script for listening\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this),\n            error: Boolean(errors.Script),\n            inputProps: {\n              name: \"Script\",\n              ...register(\"Script\")\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), errors.Script && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Script = errors.Script) === null || _errors$Script === void 0 ? void 0 : _errors$Script.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.root2} dyno-container`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-center-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"dyno-title\",\n            children: \"Add Content for grammar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(AddIcon, {\n              className: \"dyno-setting-icon mr-5\",\n              onClick: () => handleOpenDialog()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              onClose: handleCloseDialog,\n              open: openDialog,\n              children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                onClose: handleCloseDialog,\n                children: \"Add point\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                dividers: true,\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  noValidate: true,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n                      className: \"w-100\",\n                      label: \"Point\",\n                      value: point.Point,\n                      endAdornment: /*#__PURE__*/_jsxDEV(InformationTooltip, {\n                        title: \"Input value\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 27\n                      }, this),\n                      error: Boolean(errors.Point),\n                      inputProps: {\n                        name: \"Point\",\n                        ...register(\"Point\")\n                      },\n                      onChange: handleChangeDialog\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 23\n                    }, this), errors.Point && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-error\",\n                      children: (_errors$Point = errors.Point) === null || _errors$Point === void 0 ? void 0 : _errors$Point.message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n                      className: \"w-100\",\n                      label: \"Examples\",\n                      multiline: true,\n                      value: point.Examples,\n                      endAdornment: /*#__PURE__*/_jsxDEV(InformationTooltip, {\n                        title: \"Input value\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 27\n                      }, this),\n                      error: Boolean(errors.Examples),\n                      inputProps: {\n                        name: \"Examples\",\n                        ...register(\"Examples\")\n                      },\n                      onChange: handleChangeDialog\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 23\n                    }, this), errors.Examples && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-error\",\n                      children: (_errors$Examples = errors.Examples) === null || _errors$Examples === void 0 ? void 0 : _errors$Examples.message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleCloseDialog,\n                  color: \"primary\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleDialogSubmit,\n                  color: \"primary\",\n                  autoFocus: true,\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dyno-break\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.contentWrap,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.listWrap} w-100`,\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              id: \"dictionaryId\",\n              className: `${classes.list} flex-col w-100`,\n              children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: isFirstLoad && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: grammarItems && grammarItems.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [grammarItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: classes.listItem,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `${classes.root3} flex-center-between`,\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-100 flex-center--ver\",\n                          onClick: () => onClickItem(index),\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"ml-8 flex-grow-1\",\n                            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: classes.word,\n                              children: item.Point\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 496,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 495,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 491,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-center--ver\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mr-5\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 502,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                            className: \"dyno-setting-icon\",\n                            onClick: () => deleleGrammarItems(index)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 503,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 501,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 488,\n                        columnNumber: 31\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 29\n                    }, this)), !loading && more && /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n                      onTouchAnchor: onLoadData,\n                      threshold: 1,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-100 t-center\",\n                        children: /*#__PURE__*/_jsxDEV(LoopIcon, {\n                          className: \"ani-spin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 519,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 514,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dyno-break\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-end jus-content-end pt-5 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: `${classes.btn} ${classes.btnReset}`,\n          color: \"secondary\",\n          endIcon: /*#__PURE__*/_jsxDEV(ResetIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 22\n          }, this),\n          variant: \"outlined\",\n          disabled: submitting,\n          onClick: () => history.push(\"/admin/grammar\"),\n          children: \"Return\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: `${classes.btn} _btn _btn-primary`,\n          disabled: submitting,\n          endIcon: submitting ? /*#__PURE__*/_jsxDEV(LoopIcon, {\n            className: \"ani-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 64\n          }, this),\n          variant: \"contained\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateGrammar, \"xRopKTnOJu6T4sKWk+cT/M6pBQ0=\", false, function () {\n  return [useStyle, useForm, useDispatch, useHistory];\n});\n\n_c2 = CreateGrammar;\nCreateGrammar.propTypes = {\n  onSubmitForm: PropTypes.func,\n  submitting: PropTypes.bool\n};\nCreateGrammar.defaultProps = {\n  onSubmitForm: function () {},\n  submitting: false\n};\nexport default CreateGrammar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"CreateGrammar\");","map":{"version":3,"sources":["E:/TLCN/LearningEnglishWebsite/frontend/src/components/GrammarAdmin/CreateGrammar/index.js"],"names":["yupResolver","Button","Grid","LoopIcon","ResetIcon","SaveIcon","InputCustom","SelectCustom","PropTypes","React","useRef","useState","useForm","yup","InformationTooltip","useStyle","Box","Tabs","Tab","useHistory","useDispatch","setMessage","convertImageToBase64","GRAMMAR_LEVEL","Dialog","DialogContent","DialogTitle","DialogActions","AddIcon","InfiniteScroll","DeleteIcon","schema","object","shape","Title","string","trim","required","Content","Level","oneOf","map","i","value","LinkVideo","Script","Items","array","Point","Examples","TabPanel","props","children","index","other","p","propTypes","node","number","isRequired","a11yProps","id","CreateGrammar","onSubmitForm","submitting","classes","resetFlag","setResetFlag","setValue","register","handleSubmit","formState","errors","resolver","loading","setLoading","list","setList","more","setMore","isFirstLoad","setIsFirstLoad","openDialog","setOpenDialog","editItems","setEditItems","indexEdit","setIndexEdit","grammarItems","setgrammarItems","page","setPage","totalPage","point","setPoint","handleChangeDialog","event","name","target","handleCloseDialog","handleOpenDialog","handleDialogSubmit","push","onLoadData","current","onClickItem","deleleGrammarItems","arr","length","dispatch","history","defaultImg","image","setImage","video","setVideo","audio","setAudio","handleChangePicture","e","preventDefault","file","files","size","then","res","err","handleChangeAudio","handleChangeVideo","onSubmit","data","VidUpload","Image","Audio","handleChange","newValue","title","avtWrap","avt","cameraIconWrap","fileInput","grid","Boolean","autoFocus","message","type","width","borderBottom","borderColor","Video","root2","contentWrap","listWrap","item","listItem","root3","word","btn","btnReset","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import { yupResolver } from \"@hookform/resolvers/yup\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nimport ResetIcon from \"@material-ui/icons/RotateLeft\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport InputCustom from \"components/UI/InputCustom\";\nimport SelectCustom from \"components/UI/SelectCustom\";\nimport PropTypes from \"prop-types\";\nimport React, { useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport InformationTooltip from \"./InformationTooltip\";\nimport useStyle from \"./style\";\nimport Box from \"@material-ui/core/Box\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { convertImageToBase64 } from \"helper\";\nimport { GRAMMAR_LEVEL } from \"constants/grammarLevels\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { DialogActions } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport InfiniteScroll from \"components/UI/InfiniteScroll\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nconst schema = yup.object().shape({\n  Title: yup.string().trim().required(\"Input value\"),\n  Content: yup.string().required(\"Input value\"),\n  Level: yup\n    .string()\n    .required(\"Select one\")\n    .oneOf(GRAMMAR_LEVEL.map((i) => i.value)),\n  LinkVideo: yup.string(),\n  Script: yup.string(),\n  Items: yup.array(),\n  Point: yup.string().required(\"Input value\"),\n  Examples: yup.string().required(\"Input value\"),\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n          <Grid>{children}</Grid>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nfunction CreateGrammar({ onSubmitForm, submitting }) {\n  const classes = useStyle();\n  const [resetFlag, setResetFlag] = useState(0);\n  const [value, setValue] = useState(1);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n  //grammar item\n  const [loading, setLoading] = useState(true);\n  const [list, setList] = useState([]);\n  const [more, setMore] = useState(true); // toggle infinite scrolling\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [editItems, setEditItems] = useState(false);\n  const [indexEdit, setIndexEdit] = useState(-1);\n  const [grammarItems, setgrammarItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const totalPage = useRef(0);\n\n  const [point, setPoint] = useState({\n    Point: \"\",\n    Examples: \"\",\n  });\n  const handleChangeDialog = (event) => {\n    const { name, value } = event.target;\n    setPoint({ ...point, [name]: value });\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setPoint({ Point: \"\", Examples: \"\" });\n  };\n\n  const handleOpenDialog = () => {\n    setOpenDialog(true);\n  };\n\n  const handleDialogSubmit = () => {\n    if (point.Point.trim() !== \"\") {\n      if (editItems) {\n        grammarItems[indexEdit] = point;\n        setEditItems(false);\n        setIndexEdit(-1);\n      } else {\n        grammarItems.push(point);\n      }\n    }\n    setOpenDialog(false);\n    setPoint({ Point: \"\", Examples: \"\" });\n  };\n\n  const onLoadData = () => {\n    if (page < totalPage.current) {\n      setPage(page + 1);\n    } else {\n      setMore(false);\n    }\n  };\n\n  const onClickItem = (index) => {\n    setPoint(grammarItems[index]);\n    setEditItems(true);\n    setIndexEdit(index);\n    setOpenDialog(true);\n  };\n  const deleleGrammarItems = (index) => {\n    let arr = [];\n    for (let i = 0; i < grammarItems.length; i++) {\n      if (i !== index) arr.push(grammarItems[i]);\n    }\n    setgrammarItems(arr);\n  };\n  //grammar item\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const defaultImg =\n    \"https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png\";\n  const [image, setImage] = useState(defaultImg);\n  const [video, setVideo] = useState(null);\n  const [audio, setAudio] = useState(null);\n\n  const handleChangePicture = (e) => {\n    e.preventDefault();\n    try {\n      const file = e.target.files[0];\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n      convertImageToBase64(file).then((res) => {\n        setImage(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleChangeAudio = (e) => {\n    e.preventDefault();\n    try {\n      const file = e.target.files[0];\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n      convertImageToBase64(file).then((res) => {\n        setAudio(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleChangeVideo = (e) => {\n    e.preventDefault();\n    try {\n      const file = e.target.files[0];\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n      convertImageToBase64(file).then((res) => {\n        setVideo(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const onSubmit = (data) => {\n    onSubmitForm({\n      ...data,\n      VidUpload: video,\n      Image: image,\n      Audio: audio,\n      Items: grammarItems,\n    });\n  };\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div>\n      <h1 className={classes.title}>Thm ng php</h1>\n      <div className=\"dyno-break\"></div>\n\n      <form onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\n        <Grid container alignContent=\"center\">\n          <div className={classes.avtWrap}>\n            <img\n              src={image ? image : defaultImg}\n              alt=\"\"\n              className={`${classes.avt} w-100 h-100`}\n            />\n            <div className={`${classes.cameraIconWrap} flex-center`}>\n              <input\n                type=\"file\"\n                className={classes.fileInput}\n                onChange={handleChangePicture}\n                accept=\"image/*\"\n              />\n            </div>\n          </div>\n        </Grid>\n        <Grid className={classes.grid} container spacing={3}>\n          {/* Title */}\n          <Grid item xs={12} md={6} lg={4}>\n            <InputCustom\n              className=\"w-100\"\n              label=\"Title (*)\"\n              error={Boolean(errors.Title)}\n              inputProps={{\n                autoFocus: true,\n                name: \"Title\",\n                ...register(\"Title\"),\n              }}\n            />\n            {errors.Title && (\n              <p className=\"text-error\">{errors.Title?.message}</p>\n            )}\n          </Grid>\n\n          {/* Content */}\n          <Grid item xs={12} md={6} lg={4}>\n            <InputCustom\n              className=\"w-100\"\n              label=\"Content (*)\"\n              error={Boolean(errors.Content)}\n              inputProps={{\n                name: \"Content\",\n                ...register(\"Content\"),\n              }}\n            />\n            {errors.Content && (\n              <p className=\"text-error\">{errors.Content?.message}</p>\n            )}\n          </Grid>\n\n          {/* Level */}\n          <Grid item xs={12} md={6} lg={4}>\n            <SelectCustom\n              className=\"w-100\"\n              label=\"Level (*)\"\n              options={GRAMMAR_LEVEL}\n              error={Boolean(errors.Level)}\n              resetFlag={resetFlag}\n              index={0}\n              inputProps={{\n                name: \"Level\",\n                ...register(\"Level\"),\n              }}\n            />\n            {errors.type && (\n              <p className=\"text-error\">{errors.Level?.message}</p>\n            )}\n          </Grid>\n          {/* Audio */}\n\n          <Box sx={{ width: \"100%\" }}>\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                aria-label=\"basic tabs example\"\n                indicatorColor=\"primary\"\n              >\n                <Tab label=\"Upload\" {...a11yProps(0)} />\n                <Tab label=\"Link\" {...a11yProps(1)} />\n                <Tab label=\"Audio\" {...a11yProps(2)} />\n              </Tabs>\n            </Box>\n            <TabPanel value={value} index={0}>\n              {/* Video */}\n              <Grid item xs={6}>\n                <Grid container alignContent=\"center\">\n                  <div className={classes.avtWrap}>\n                    <div className={`${classes.cameraIconWrap} flex-center`}>\n                      <input\n                        type=\"file\"\n                        className={classes.fileInput}\n                        onChange={handleChangeVideo}\n                        accept=\"video/*\"\n                      />\n                    </div>\n                  </div>\n                </Grid>\n              </Grid>\n            </TabPanel>\n\n            <TabPanel value={value} index={1}>\n              <Grid item xs={6}>\n                <InputCustom\n                  className=\"w-100\"\n                  label=\"Link Video\"\n                  multiline\n                  endAdornment={\n                    <InformationTooltip title=\"Input link youtube\" />\n                  }\n                  inputProps={{\n                    name: \"LinkVideo\",\n                    ...register(\"LinkVideo\"),\n                  }}\n                />\n\n                {errors.Video && (\n                  <p className=\"text-error\">{errors.Video?.message}</p>\n                )}\n              </Grid>\n            </TabPanel>\n            <TabPanel value={value} index={2}>\n              {/* Audio */}\n              <Grid item xs={6}>\n                <Grid container alignContent=\"center\">\n                  <div className={classes.avtWrap}>\n                    <div className={`${classes.cameraIconWrap} flex-center`}>\n                      <input\n                        type=\"file\"\n                        className={classes.fileInput}\n                        onChange={handleChangeAudio}\n                        accept=\"audio/*\"\n                      />\n                    </div>\n                  </div>\n                </Grid>\n              </Grid>\n            </TabPanel>\n          </Box>\n\n          {/* {Script} */}\n          <Grid item xs={12}>\n            <InputCustom\n              className=\"w-100\"\n              label=\"Script\"\n              multiline\n              endAdornment={\n                <InformationTooltip title=\"Input script for listening\" />\n              }\n              error={Boolean(errors.Script)}\n              inputProps={{\n                name: \"Script\",\n                ...register(\"Script\"),\n              }}\n            />\n            {errors.Script && (\n              <p className=\"text-error\">{errors.Script?.message}</p>\n            )}\n          </Grid>\n        </Grid>\n\n        {/* Grammar Item */}\n        <div className={`${classes.root2} dyno-container`}>\n          <div className=\"flex-center-between\">\n            <h1 className=\"dyno-title\">Add Content for grammar</h1>\n            <div>\n              <AddIcon\n                className=\"dyno-setting-icon mr-5\"\n                onClick={() => handleOpenDialog()}\n              />\n              {/* Dialog */}\n              <Dialog onClose={handleCloseDialog} open={openDialog}>\n                <DialogTitle onClose={handleCloseDialog}>Add point</DialogTitle>\n                <DialogContent dividers>\n                  <form noValidate>\n                    {/* Point */}\n                    <Grid item xs={12}>\n                      <InputCustom\n                        className=\"w-100\"\n                        label=\"Point\"\n                        value={point.Point}\n                        endAdornment={\n                          <InformationTooltip title=\"Input value\" />\n                        }\n                        error={Boolean(errors.Point)}\n                        inputProps={{\n                          name: \"Point\",\n                          ...register(\"Point\"),\n                        }}\n                        onChange={handleChangeDialog}\n                      />\n                      {errors.Point && (\n                        <p className=\"text-error\">{errors.Point?.message}</p>\n                      )}\n                    </Grid>\n                    <Grid item xs={12}>\n                      <InputCustom\n                        className=\"w-100\"\n                        label=\"Examples\"\n                        multiline\n                        value={point.Examples}\n                        endAdornment={\n                          <InformationTooltip title=\"Input value\" />\n                        }\n                        error={Boolean(errors.Examples)}\n                        inputProps={{\n                          name: \"Examples\",\n                          ...register(\"Examples\"),\n                        }}\n                        onChange={handleChangeDialog}\n                      />\n                      {errors.Examples && (\n                        <p className=\"text-error\">{errors.Examples?.message}</p>\n                      )}\n                    </Grid>\n                  </form>\n                </DialogContent>\n                <DialogActions>\n                  <Button onClick={handleCloseDialog} color=\"primary\">\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={handleDialogSubmit}\n                    color=\"primary\"\n                    autoFocus\n                  >\n                    Save\n                  </Button>\n                </DialogActions>\n              </Dialog>\n              {/* Dialog */}\n            </div>\n          </div>\n          <div className=\"dyno-break\"></div>\n\n          {/* list content */}\n          <div className={classes.contentWrap}>\n            <div className={`${classes.listWrap} w-100`}>\n              <ul\n                id=\"dictionaryId\"\n                className={`${classes.list} flex-col w-100`}\n              >\n                <>\n                  {isFirstLoad && (\n                    <>\n                      {grammarItems && grammarItems.length > 0 && (\n                        <>\n                          {/* render list */}\n                          {grammarItems.map((item, index) => (\n                            <li className={classes.listItem} key={index}>\n                              <div\n                                className={`${classes.root3} flex-center-between`}\n                              >\n                                <div\n                                  className=\"w-100 flex-center--ver\"\n                                  onClick={() => onClickItem(index)}\n                                >\n                                  <div className=\"ml-8 flex-grow-1\">\n                                    <h3 className={classes.word}>\n                                      {item.Point}\n                                    </h3>\n                                  </div>\n                                </div>\n                                <div className=\"flex-center--ver\">\n                                  <div className=\"mr-5\"></div>\n                                  <DeleteIcon\n                                    className=\"dyno-setting-icon\"\n                                    onClick={() => deleleGrammarItems(index)}\n                                  />\n                                </div>\n                              </div>\n                            </li>\n                          ))}\n\n                          {/* infinite scrolling */}\n                          {!loading && more && (\n                            <InfiniteScroll\n                              onTouchAnchor={onLoadData}\n                              threshold={1}\n                            >\n                              <div className=\"w-100 t-center\">\n                                <LoopIcon className=\"ani-spin\" />\n                              </div>\n                            </InfiniteScroll>\n                          )}\n                        </>\n                      )}\n                    </>\n                  )}\n                </>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"dyno-break\"></div>\n        {/* button group */}\n        <div className=\"d-flex flex-end jus-content-end pt-5 w-100\">\n          <Button\n            className={`${classes.btn} ${classes.btnReset}`}\n            color=\"secondary\"\n            endIcon={<ResetIcon />}\n            variant=\"outlined\"\n            disabled={submitting}\n            onClick={() => history.push(\"/admin/grammar\")}\n          >\n            Return\n          </Button>\n          <Button\n            type=\"submit\"\n            className={`${classes.btn} _btn _btn-primary`}\n            disabled={submitting}\n            endIcon={\n              submitting ? <LoopIcon className=\"ani-spin\" /> : <SaveIcon />\n            }\n            variant=\"contained\"\n          >\n            Create\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nCreateGrammar.propTypes = {\n  onSubmitForm: PropTypes.func,\n  submitting: PropTypes.bool,\n};\n\nCreateGrammar.defaultProps = {\n  onSubmitForm: function () {},\n  submitting: false,\n};\n\nexport default CreateGrammar;\n"]},"metadata":{},"sourceType":"module"}