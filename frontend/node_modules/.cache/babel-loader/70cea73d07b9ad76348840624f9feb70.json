{"ast":null,"code":"var _jsxFileName = \"E:\\\\TLCN\\\\LearningEnglishWebsite\\\\frontend\\\\src\\\\components\\\\ListeningAdmin\\\\CreateListen\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport LoopIcon from '@material-ui/icons/Loop';\nimport ResetIcon from '@material-ui/icons/RotateLeft';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputCustom from 'components/UI/InputCustom';\nimport SelectCustom from 'components/UI/SelectCustom';\nimport { LISTEN_TOPIC } from './../../../constants/listeningTopics';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport InformationTooltip from './InformationTooltip';\nimport useStyle from './style';\nimport Box from \"@material-ui/core/Box\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport RichTextEditor from 'components/UI/RichTextEditor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  Name: yup.string().trim().required('Input value'),\n  Description: yup.string().required('Input value'),\n  Topic: yup.string().required('Select one').oneOf(LISTEN_TOPIC.map(i => i.value)),\n  LinkVideo: yup.string(),\n  Script: yup.string()\n});\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`\n  };\n}\n\nfunction CreateListening({\n  onSubmitForm,\n  submitting\n}) {\n  _s();\n\n  var _errors$Name, _errors$Description, _errors$Topic, _errors$Video;\n\n  const classes = useStyle();\n  const [resetFlag, setResetFlag] = useState(0);\n  const [value, setValue] = useState(1);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const defaultImg = \"https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png\";\n  const [image, setImage] = useState(defaultImg);\n  const [video, setVideo] = useState(null);\n  const [script, setScript] = useState(\"\");\n\n  const getScript = spt => {\n    setScript(spt);\n  };\n\n  const convertImageToBase64 = image => {\n    const reader = new FileReader();\n    reader.readAsDataURL(image);\n    return new Promise(resolve => {\n      reader.onloadend = () => {\n        resolve(reader.result);\n      };\n    });\n  };\n\n  const handleChangePicture = e => {\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n\n      convertImageToBase64(file).then(res => {\n        setImage(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleChangeVideo = e => {\n    // console.log(e)\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n\n      convertImageToBase64(file).then(res => {\n        setVideo(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const onSubmit = data => {\n    onSubmitForm({ ...data,\n      VidUpload: video,\n      Image: image,\n      Script: script\n    });\n  };\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: classes.title,\n      children: \"Creat new listening in system\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dyno-break\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignContent: \"center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.avtWrap,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: image ? image : defaultImg,\n            alt: \"\",\n            className: `${classes.avt} w-100 h-100`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.cameraIconWrap} flex-center`,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: classes.fileInput,\n              onChange: handleChangePicture,\n              accept: \"image/*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        className: classes.grid,\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n            className: \"w-100\",\n            label: \"Name (*)\",\n            error: Boolean(errors.Name),\n            inputProps: {\n              autoFocus: true,\n              name: 'Name',\n              ...register('Name')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), errors.Name && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Name = errors.Name) === null || _errors$Name === void 0 ? void 0 : _errors$Name.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n            className: \"w-100\",\n            label: \"Description (*)\",\n            error: Boolean(errors.Description),\n            inputProps: {\n              name: 'Description',\n              ...register('Description')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), errors.Description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Description = errors.Description) === null || _errors$Description === void 0 ? void 0 : _errors$Description.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(SelectCustom, {\n            className: \"w-100\",\n            label: \"Topic (*)\",\n            options: LISTEN_TOPIC,\n            error: Boolean(errors.Topic),\n            resetFlag: resetFlag,\n            index: 0,\n            inputProps: {\n              name: 'Topic',\n              ...register('Topic')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), errors.type && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-error\",\n            children: (_errors$Topic = errors.Topic) === null || _errors$Topic === void 0 ? void 0 : _errors$Topic.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: \"50%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              borderBottom: 1,\n              borderColor: \"divider\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Tabs, {\n              value: value,\n              onChange: handleChange,\n              \"aria-label\": \"basic tabs example\",\n              indicatorColor: \"primary\",\n              children: [/*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Upload\",\n                ...a11yProps(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Link\",\n                ...a11yProps(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: value,\n            index: 0,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                alignContent: \"center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.avtWrap,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `${classes.cameraIconWrap} flex-center`,\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      className: classes.fileInput,\n                      onChange: handleChangeVideo,\n                      accept: \"video/*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: value,\n            index: 1,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: [/*#__PURE__*/_jsxDEV(InputCustom, {\n                className: \"w-100\",\n                label: \"Link Video\",\n                multiline: true,\n                endAdornment: /*#__PURE__*/_jsxDEV(InformationTooltip, {\n                  title: \"Input link youtube\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 17\n                }, this),\n                inputProps: {\n                  name: 'LinkVideo',\n                  ...register('LinkVideo')\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 13\n              }, this), errors.Video && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$Video = errors.Video) === null || _errors$Video === void 0 ? void 0 : _errors$Video.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            style: {\n              margin: \"auto\",\n              marginTop: \"50px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Rich Text Editor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(RichTextEditor, {\n              initialValue: \"\",\n              getValue: getScript\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dyno-break\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-end jus-content-end pt-5 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: `${classes.btn} ${classes.btnReset}`,\n          color: \"secondary\",\n          endIcon: /*#__PURE__*/_jsxDEV(ResetIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 22\n          }, this),\n          variant: \"outlined\",\n          disabled: submitting,\n          onClick: () => history.push(\"/admin/listening\"),\n          children: \"Return\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: `${classes.btn} _btn _btn-primary`,\n          disabled: submitting,\n          endIcon: submitting ? /*#__PURE__*/_jsxDEV(LoopIcon, {\n            className: \"ani-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 64\n          }, this),\n          variant: \"contained\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateListening, \"zOSaWHVekgjRG4muE+7Kmt6/vEI=\", false, function () {\n  return [useStyle, useForm, useDispatch, useHistory];\n});\n\n_c2 = CreateListening;\nCreateListening.propTypes = {\n  onSubmitForm: PropTypes.func,\n  submitting: PropTypes.bool\n};\nCreateListening.defaultProps = {\n  onSubmitForm: function () {},\n  submitting: false\n};\nexport default CreateListening;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"CreateListening\");","map":{"version":3,"sources":["E:/TLCN/LearningEnglishWebsite/frontend/src/components/ListeningAdmin/CreateListen/index.js"],"names":["yupResolver","Button","Grid","LoopIcon","ResetIcon","SaveIcon","InputCustom","SelectCustom","LISTEN_TOPIC","PropTypes","React","useRef","useState","useForm","yup","InformationTooltip","useStyle","Box","Tabs","Tab","useHistory","useDispatch","setMessage","RichTextEditor","schema","object","shape","Name","string","trim","required","Description","Topic","oneOf","map","i","value","LinkVideo","Script","TabPanel","props","children","index","other","p","propTypes","node","number","isRequired","a11yProps","id","CreateListening","onSubmitForm","submitting","classes","resetFlag","setResetFlag","setValue","register","handleSubmit","formState","errors","resolver","dispatch","history","defaultImg","image","setImage","video","setVideo","script","setScript","getScript","spt","convertImageToBase64","reader","FileReader","readAsDataURL","Promise","resolve","onloadend","result","handleChangePicture","e","preventDefault","file","target","files","size","then","res","err","handleChangeVideo","onSubmit","data","VidUpload","Image","handleChange","event","newValue","title","avtWrap","avt","cameraIconWrap","fileInput","grid","Boolean","autoFocus","name","message","type","width","borderBottom","borderColor","Video","margin","marginTop","textAlign","btn","btnReset","push","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport LoopIcon from '@material-ui/icons/Loop';\nimport ResetIcon from '@material-ui/icons/RotateLeft';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputCustom from 'components/UI/InputCustom';\nimport SelectCustom from 'components/UI/SelectCustom';\nimport { LISTEN_TOPIC } from './../../../constants/listeningTopics';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport InformationTooltip from './InformationTooltip';\nimport useStyle from './style';\nimport Box from \"@material-ui/core/Box\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport RichTextEditor from 'components/UI/RichTextEditor';\n\nconst schema = yup.object().shape({\n  Name: yup\n    .string()\n    .trim()\n    .required('Input value'),\n  Description: yup\n    .string()\n    .required('Input value'),\n  Topic: yup\n    .string()\n    .required('Select one')\n    .oneOf(LISTEN_TOPIC.map((i) => i.value)),\n  LinkVideo: yup\n    .string(),\n  Script: yup\n    .string(),\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n         <Grid>{children}</Grid>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nfunction CreateListening({ onSubmitForm, submitting }) {\n  const classes = useStyle();\n  const [resetFlag, setResetFlag] = useState(0);\n  const [value, setValue] = useState(1);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const defaultImg =\n  \"https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png\";\n  const [image, setImage] = useState(defaultImg);\n  const [video, setVideo] = useState(null);\n  const [script, setScript] = useState(\"\");\n  const getScript = (spt) => {\n    setScript(spt);\n  };\n\n  const convertImageToBase64 = (image) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(image);\n    return new Promise((resolve) => {\n      reader.onloadend = () => {\n        resolve(reader.result);\n      };\n    });\n  };\n\n  const handleChangePicture = (e) => {\n    e.preventDefault();\n    try {\n      const file = e.target.files[0];\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n      convertImageToBase64(file).then(res => {\n        setImage(res);\n      });\n      \n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const handleChangeVideo = (e) => {\n   // console.log(e)\n    e.preventDefault();\n    try {\n      const file = e.target.files[0];\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\n      }\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"error\"));\n      }\n     convertImageToBase64(file).then(res => {\n        setVideo(res);\n      });\n      \n    } catch (err) {\n      throw err;\n    }\n  };\n\n  const onSubmit = (data) => {\n    onSubmitForm({ ...data, VidUpload: video, Image: image, Script: script });\n  };\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n\n  return (\n    <div >\n      <h1 className={classes.title}>Creat new listening in system</h1>\n      <div className=\"dyno-break\"></div>\n\n      <form onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\n      <Grid container alignContent=\"center\">\n          <div className={classes.avtWrap}>\n            <img\n              src={image ? image : defaultImg}\n              alt=\"\"\n              className={`${classes.avt} w-100 h-100`}\n            />\n            <div className={`${classes.cameraIconWrap} flex-center`}>\n              <input\n                type=\"file\"\n                className={classes.fileInput}\n                onChange={handleChangePicture}\n                accept=\"image/*\"\n              />\n            </div>\n          </div>\n        </Grid>\n        <Grid className={classes.grid} container spacing={3}>\n          {/* new name */}\n          <Grid item xs={12} md={6} lg={4}>\n            <InputCustom\n              className=\"w-100\"\n              label=\"Name (*)\"\n              error={Boolean(errors.Name)}\n              inputProps={{\n                autoFocus: true,\n                name: 'Name',\n                ...register('Name'),\n              }}\n            />\n            {errors.Name && (\n              <p className=\"text-error\">{errors.Name?.message}</p>\n            )}\n          </Grid>\n\n          {/* Description */}\n          <Grid item xs={12} md={6} lg={4}>\n            <InputCustom\n              className=\"w-100\"\n              label=\"Description (*)\"\n              error={Boolean(errors.Description)}\n              inputProps={{\n                name: 'Description',\n                ...register('Description'),\n              }}\n            />\n            {errors.Description && (\n              <p className=\"text-error\">{errors.Description?.message}</p>\n            )}\n          </Grid>\n\n          {/* topic */}\n          <Grid item xs={12} md={6} lg={4}>\n            <SelectCustom\n              className=\"w-100\"\n              label=\"Topic (*)\"\n              options={LISTEN_TOPIC}\n              error={Boolean(errors.Topic)}\n              resetFlag={resetFlag}\n              index={0}\n              inputProps={{\n                name: 'Topic',\n                ...register('Topic'),\n              }}\n            />\n            {errors.type && (\n              <p className=\"text-error\">{errors.Topic?.message}</p>\n            )}\n          </Grid>\n          <Box sx={{ width: \"50%\" }}>\n          <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              aria-label=\"basic tabs example\"\n              indicatorColor=\"primary\"\n            >\n              <Tab label=\"Upload\" {...a11yProps(0)} />\n              <Tab label=\"Link\" {...a11yProps(1)} />\n            </Tabs>\n          </Box>\n          <TabPanel value={value} index={0}>\n                   {/* Video */}\n            <Grid item xs={6}>\n              <Grid container alignContent=\"center\">\n              <div className={classes.avtWrap}>\n              <div className={`${classes.cameraIconWrap} flex-center`}>\n                <input\n                  type=\"file\"\n                  className={classes.fileInput}\n                  onChange={handleChangeVideo}\n                  accept=\"video/*\"\n                />\n              </div>\n            </div>\n              </Grid>\n          </Grid>\n          </TabPanel>\n\n          <TabPanel value={value} index={1}>\n          <Grid item xs={6} >\n            <InputCustom\n              className=\"w-100\"\n              label=\"Link Video\"\n              multiline\n              endAdornment={\n                <InformationTooltip title=\"Input link youtube\" />\n              }\n              inputProps={{\n                name: 'LinkVideo',\n                ...register('LinkVideo'),\n              }}\n            />\n\n            {errors.Video && (\n              <p className=\"text-error\">{errors.Video?.message}</p>\n            )}\n          </Grid>\n\n          </TabPanel>\n        </Box>\n        {/* Script */}\n            <div className=\"row\">\n          <div className=\"col-md-6\" style={{ margin: \"auto\", marginTop: \"50px\" }}>\n            <div style={{ textAlign: \"center\" }}>\n              <h3>Rich Text Editor</h3>\n            </div>\n            <RichTextEditor initialValue=\"\" getValue={getScript} />\n           \n          </div>\n        </div>\n      </Grid>  \n       \n        <div className=\"dyno-break\"></div>\n        {/* button group */}\n        <div className=\"d-flex flex-end jus-content-end pt-5 w-100\">\n          <Button\n            className={`${classes.btn} ${classes.btnReset}`}\n            color=\"secondary\"\n            endIcon={<ResetIcon />}\n            variant=\"outlined\"\n            disabled={submitting}\n            onClick={() => history.push(\"/admin/listening\")}\n           >\n            Return\n          </Button>\n          <Button\n            type=\"submit\"\n            className={`${classes.btn} _btn _btn-primary`}\n            disabled={submitting}\n            endIcon={\n              submitting ? <LoopIcon className=\"ani-spin\" /> : <SaveIcon />\n            }\n            variant=\"contained\">\n            Create\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nCreateListening.propTypes = {\n  onSubmitForm: PropTypes.func,\n  submitting: PropTypes.bool,\n};\n\nCreateListening.defaultProps = {\n  onSubmitForm: function () {},\n  submitting: false,\n};\n\nexport default CreateListening;\n"]},"metadata":{},"sourceType":"module"}