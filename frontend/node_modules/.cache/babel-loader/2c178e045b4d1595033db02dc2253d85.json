{"ast":null,"code":"var _jsxFileName = \"E:\\\\TLCN\\\\LearningEnglishWebsite\\\\frontend\\\\src\\\\pages\\\\UserDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport InputCustom from \"components/UI/InputCustom\";\nimport { useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport userApi from \"./../apis/userApi\";\nimport useTitle from \"hooks/useTitle\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { useDispatch } from \"react-redux\";\nimport { formatDate } from \"helper\";\nimport { useParams } from \"react-router\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyle = makeStyles(() => ({\n  wrap: {\n    minHeight: \"calc(100vh - 7.2rem)\"\n  },\n  root: {\n    backgroundColor: \"var(--bg-color-sec)\",\n    padding: \"1.5rem 2.5rem\",\n    borderRadius: \"var(--border-radius)\",\n    textAlign: \"center\",\n    boxShadow: \"var(--box-shadow)\"\n  },\n  avtWrap: {\n    width: \"15rem\",\n    height: \"15rem\",\n    position: \"relative\"\n  },\n  avt: {\n    borderRadius: \"50%\",\n    border: \"2px solid var(--primary-color)\"\n  },\n  cameraIconWrap: {\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n    width: \"4.2rem\",\n    height: \"4.2rem\",\n    padding: \"1.2rem\",\n    backgroundColor: \"var(--primary-color)\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    border: \"solid 5px var(--bg-color-sec)\",\n    \"&:hover, &:active\": {\n      opacity: 0.85\n    }\n  },\n  cameraIcon: {\n    color: \"var(--text-color)\",\n    fontSize: \"2rem\"\n  },\n  fileInput: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    top: 0,\n    left: 0,\n    opacity: 0,\n    cursor: \"pointer\"\n  },\n  name: {\n    fontSize: \"2.4rem\",\n    lineHeight: 1.5,\n    letterSpacing: \"0.75px\"\n  },\n  role: {\n    fontSize: \"1.5rem\",\n    fontWeight: 400,\n    color: \"var(--label-color)\",\n    letterSpacing: \"0.75px\",\n    textTransform: \"capitalize\"\n  },\n  info: {\n    margin: \"2.4rem 0\",\n    \"& p\": {\n      lineHeight: 2,\n      fontSize: \"1.6rem\",\n      letterSpacing: \"0.75px\",\n      color: \"var(--text-color)\"\n    }\n  },\n  coin: {\n    color: \"var(--label-color)\",\n    fontWeight: \"bold\",\n    fontSize: \"2rem\"\n  },\n  icon: {\n    fontSize: \"1.8rem\",\n    color: \"var(--grey)\",\n    cursor: \"pointer\"\n  },\n  visiblePw: {\n    color: \"var(--primary-color)\"\n  },\n  visibleConfirmPw: {\n    color: \"var(--primary-color)\"\n  },\n  editBtn: {\n    padding: \"5px 10px\",\n    width: \"100%\"\n  },\n  textError: {\n    marginTop: \"4px\",\n    color: \"var(--error-color)\",\n    fontSize: \"1.2rem\",\n    textAlign: \"left\"\n  }\n}));\nexport default function UserDetailPage() {\n  _s();\n\n  useTitle(\"User Detail\");\n  const classes = useStyle();\n  const {\n    user\n  } = useSelector(state => state.authReducer);\n  const {\n    user_id\n  } = useParams();\n  const [userDetail, setUserDetail] = useState([]);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    (async function () {\n      const res = await userApi.getUserDetails(user_id);\n      setUserDetail(res.data.user);\n    })();\n\n    return () => {};\n  }, [user_id]);\n\n  const handleLockUser = async () => {\n    try {\n      const res = await userApi.lockUser(user_id);\n\n      if (res) {\n        dispatch(setMessage(res.data.message, 'success'));\n        window.location.reload();\n      }\n    } catch (err) {\n      dispatch(setMessage(err.response.data.message, 'error'));\n    }\n  };\n\n  const handleUnlockUser = async () => {\n    try {\n      const res = await userApi.unlockUser(user_id);\n\n      if (res) {\n        dispatch(setMessage(res.data.message, 'success'));\n        window.location.reload();\n      }\n    } catch (err) {\n      dispatch(setMessage(err.response.data.message, 'error'));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${classes.wrap} container flex-center`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-center w-100 h-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.avtWrap,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: userDetail.avatar,\n            alt: \"\",\n            className: `${classes.avt} w-100 h-100`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: classes.name,\n          children: userDetail.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: classes.role,\n          children: userDetail.roleType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.info,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: userDetail.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0110\\xE3 tham gia v\\xE0o \", formatDate(userDetail.createdAt)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"S\\u1ED1 coin hi\\u1EC7n t\\u1EA1i:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.coin,\n            children: userDetail.coin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex-center flex-center-col w-100\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: `${classes.editBtn} _btn _btn-primary mb-5`,\n          startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 24\n          }, this),\n          onClick: () => history.push(`/admin/user/edit/${user_id}`),\n          children: \"Ch\\u1EC9nh s\\u1EEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), userDetail.isLocked !== 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          className: `${classes.editBtn} _btn _btn-primary`,\n          startIcon: /*#__PURE__*/_jsxDEV(LockOpenIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 26\n          }, this),\n          onClick: handleUnlockUser,\n          children: \"M\\u1EDF t\\xE0i kho\\u1EA3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          className: `${classes.editBtn} _btn _btn-primary`,\n          startIcon: /*#__PURE__*/_jsxDEV(LockIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 28\n          }, this),\n          onClick: handleLockUser,\n          children: \"Kh\\xF3a t\\xE0i kho\\u1EA3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserDetailPage, \"tX4M0rwhfhAwaHnaK7vYoLrSkP8=\", false, function () {\n  return [useTitle, useStyle, useSelector, useParams, useDispatch, useHistory];\n});\n\n_c = UserDetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDetailPage\");","map":{"version":3,"sources":["E:/TLCN/LearningEnglishWebsite/frontend/src/pages/UserDetail.js"],"names":["React","useEffect","useState","makeStyles","CameraIcon","InputCustom","useSelector","Button","VisibilityIcon","VisibilityOffIcon","userApi","useTitle","setMessage","useDispatch","formatDate","useParams","LockIcon","LockOpenIcon","EditIcon","useHistory","useStyle","wrap","minHeight","root","backgroundColor","padding","borderRadius","textAlign","boxShadow","avtWrap","width","height","position","avt","border","cameraIconWrap","right","bottom","cursor","opacity","cameraIcon","color","fontSize","fileInput","top","left","name","lineHeight","letterSpacing","role","fontWeight","textTransform","info","margin","coin","icon","visiblePw","visibleConfirmPw","editBtn","textError","marginTop","UserDetailPage","classes","user","state","authReducer","user_id","userDetail","setUserDetail","dispatch","history","res","getUserDetails","data","handleLockUser","lockUser","message","window","location","reload","err","response","handleUnlockUser","unlockUser","avatar","roleType","email","createdAt","push","isLocked"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport InputCustom from \"components/UI/InputCustom\";\nimport { useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport userApi from \"./../apis/userApi\";\nimport useTitle from \"hooks/useTitle\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { useDispatch } from \"react-redux\";\nimport { formatDate } from \"helper\";\nimport { useParams } from \"react-router\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useHistory } from 'react-router-dom';\n\nconst useStyle = makeStyles(() => ({\n  wrap: {\n    minHeight: \"calc(100vh - 7.2rem)\",\n  },\n\n  root: {\n    backgroundColor: \"var(--bg-color-sec)\",\n    padding: \"1.5rem 2.5rem\",\n    borderRadius: \"var(--border-radius)\",\n    textAlign: \"center\",\n    boxShadow: \"var(--box-shadow)\",\n  },\n\n  avtWrap: {\n    width: \"15rem\",\n    height: \"15rem\",\n    position: \"relative\",\n  },\n\n  avt: {\n    borderRadius: \"50%\",\n    border: \"2px solid var(--primary-color)\",\n  },\n\n  cameraIconWrap: {\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n\n    width: \"4.2rem\",\n    height: \"4.2rem\",\n    padding: \"1.2rem\",\n\n    backgroundColor: \"var(--primary-color)\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    border: \"solid 5px var(--bg-color-sec)\",\n\n    \"&:hover, &:active\": {\n      opacity: 0.85,\n    },\n  },\n\n  cameraIcon: {\n    color: \"var(--text-color)\",\n    fontSize: \"2rem\",\n  },\n\n  fileInput: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    top: 0,\n    left: 0,\n    opacity: 0,\n    cursor: \"pointer\",\n  },\n\n  name: {\n    fontSize: \"2.4rem\",\n    lineHeight: 1.5,\n    letterSpacing: \"0.75px\",\n  },\n\n  role: {\n    fontSize: \"1.5rem\",\n    fontWeight: 400,\n    color: \"var(--label-color)\",\n    letterSpacing: \"0.75px\",\n    textTransform: \"capitalize\",\n  },\n\n  info: {\n    margin: \"2.4rem 0\",\n\n    \"& p\": {\n      lineHeight: 2,\n      fontSize: \"1.6rem\",\n      letterSpacing: \"0.75px\",\n      color: \"var(--text-color)\",\n    },\n  },\n\n  coin: {\n    color: \"var(--label-color)\",\n    fontWeight: \"bold\",\n    fontSize: \"2rem\",\n  },\n  icon: {\n    fontSize: \"1.8rem\",\n    color: \"var(--grey)\",\n    cursor: \"pointer\",\n  },\n\n  visiblePw: {\n    color: \"var(--primary-color)\",\n  },\n  visibleConfirmPw: {\n    color: \"var(--primary-color)\",\n  },\n  editBtn: {\n    padding: \"5px 10px\",\n    width: \"100%\",\n  },\n  textError: {\n    marginTop: \"4px\",\n    color: \"var(--error-color)\",\n    fontSize: \"1.2rem\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function UserDetailPage() {\n  useTitle(\"User Detail\");\n  const classes = useStyle();\n  const { user } = useSelector((state) => state.authReducer);\n  const { user_id } = useParams();\n  const [userDetail, setUserDetail] = useState([]);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    (async function () {\n      const res = await userApi.getUserDetails(user_id);\n      setUserDetail(res.data.user);\n    })();\n    return () => {};\n  }, [user_id]);\n  \n  const handleLockUser = async () => {\n    try {\n      const res = await userApi.lockUser(user_id);\n      if (res) {\n        dispatch(setMessage(res.data.message, 'success'));\n        window.location.reload();\n      }\n    }\n    catch (err) {\n      dispatch(setMessage(err.response.data.message, 'error'));\n    }\n  }\n\n  const handleUnlockUser = async () => {\n    try {\n      const res = await userApi.unlockUser(user_id);\n      if (res) {\n        dispatch(setMessage(res.data.message, 'success'));\n        window.location.reload();\n      }\n    }\n    catch (err) {\n      dispatch(setMessage(err.response.data.message, 'error'));\n    }\n  }\n\n  return (\n    <div className={`${classes.wrap} container flex-center`}>\n      <div className={classes.root}>\n        <div className=\"flex-center w-100 h-100\">\n          <div className={classes.avtWrap}>\n            <img\n              src={userDetail.avatar}\n              alt=\"\"\n              className={`${classes.avt} w-100 h-100`}\n            />\n          </div>\n        </div>\n        <div className=\"mt-10\">\n          <h2 className={classes.name}>{userDetail.name}</h2>\n          <h4 className={classes.role}>{userDetail.roleType}</h4>\n        </div>\n\n        <div className={classes.info}>\n          <p>{userDetail.email}</p>\n          <p>Đã tham gia vào {formatDate(userDetail.createdAt)}</p>\n          <p>\n            Số coin hiện tại:{\" \"}\n            <span className={classes.coin}>{userDetail.coin}</span>\n          </p>\n        </div>\n\n        <div className=\"d-flex-center flex-center-col w-100\">\n          <Button\n            className={`${classes.editBtn} _btn _btn-primary mb-5`}\n            startIcon={<EditIcon />}\n            onClick={() => history.push(`/admin/user/edit/${user_id}`)}\n          >\n            Chỉnh sửa\n          </Button>\n          {userDetail.isLocked !== 0 ? (\n            <Button\n              className={`${classes.editBtn} _btn _btn-primary`}\n              startIcon={<LockOpenIcon />}\n              onClick={handleUnlockUser}\n            >\n              Mở tài khoản\n            </Button>\n          ) : (\n            <Button\n              className={`${classes.editBtn} _btn _btn-primary`}\n                startIcon={<LockIcon />}\n                onClick={handleLockUser}\n            >\n              Khóa tài khoản\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}