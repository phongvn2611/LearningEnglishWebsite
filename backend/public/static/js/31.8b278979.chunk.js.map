{"version":3,"sources":["apis/grammarApi.js","redux/actions/grammarAction.js","assets/icons/checkAnswer/incorrect.gif","assets/icons/checkAnswer/correct.gif","pages/Grammar.js"],"names":["URL","grammarApi","getGrammar","id","axios","get","getGrammarById","getGrammarByLevel","level","token","headers","Authorization","getGrammarLevels","getAllGrammar","postGrammar","formData","post","header","putGrammar","put","params","deleteGrammar","patch","searchGrammar","title","dispatch","a","response","status","type","GRAMMAR_CONSTANT","GET_GRAMMAR","payload","data","SET_GRAMMAR_ERROR","message","DELETE_GRAMMAR","useStyle","makeStyles","borderTopic","borderStyle","borderColor","borderWidth","backgroundColor","width","height","grammarbox","padding","border","color","marginBottom","picture","marginLeft","tabcontents","borderRadius","TabPanel","props","children","value","index","other","role","hidden","sx","p","a11yProps","GrammarPage","useTitle","classes","useState","setValue","checkAnswer","setCheckAnswer","showAnswer","setShowAnswer","isPlaying","setIsPlaying","grammarId","useParams","useSelector","state","grammarReducer","grammar","questions","useDispatch","useEffect","answers","getText","text","Text","split","imgSrc","cloudinaryImgOptimize","Image","DEFAULTS","IMAGE_SRC","isCorrect","handleCheck","i","includes","j","length","splice","push","variant","align","Title","Content","Video","src","onEnded","className","alt","Audio","controls","borderBottom","onChange","_event","newValue","indicatorColor","label","dangerouslySetInnerHTML","__html","Script","Items","map","item","Point","Examples","it","question","correctIcon","incorrectIcon","Answers","control","onClick","style","content","numberCorrect","console","log","k","window","confirm","close","handleClickCheckAnswer","location","reload"],"mappings":"mIACMA,EAAG,eAEHC,EAAa,CACjBC,WAAY,SAACC,GACX,OAAOC,IAAMC,IAAN,UAAaL,EAAb,wBAAgCG,KAGzCG,eAAgB,SAACH,GACf,OAAOC,IAAMC,IAAN,UAAaL,EAAb,8BAAsCG,KAG/CI,kBAAmB,SAACC,EAAOC,GACzB,OAAOL,IAAMC,IAAN,UAAaL,EAAb,iCAAyCQ,GAAS,CACvDE,QAAS,CAACC,cAAeF,MAI7BG,iBAAkB,SAACH,GACjB,OAAOL,IAAMC,IAAN,UAAaL,EAAb,uBAAuC,CAC5CU,QAAS,CAACC,cAAeF,MAI7BI,cAAe,SAACJ,GACd,OAAOL,IAAMC,IAAN,UAAaL,EAAb,oBAAoC,CACzCU,QAAS,CAACC,cAAeF,MAI7BK,YAAa,SAACC,GACZ,OAAOX,IAAMY,KAAN,UAAchB,EAAd,gCAAsCe,GAC7C,CACEE,OAAQ,CAAE,eAAgB,0BAI9BC,WAAY,SAACf,EAAIY,GACf,OAAOX,IAAMe,IAAN,UAAanB,EAAb,wBAAgCG,GAAhC,eAA2CY,GAClD,CACEK,OAAQ,CAAEjB,MACVc,OAAQ,CAAE,eAAgB,0BAI9BI,cAAe,SAAClB,GACd,OAAOC,IAAMkB,MAAN,UAAetB,EAAf,2BAAqCG,KAG9CoB,cAAe,SAACC,GACd,OAAOpB,IAAMC,IAAN,UAAaL,EAAb,mBAAmC,CAACoB,OAAQ,CAACI,aAIzCvB,O,mJClDFC,EAAa,SAACC,GACvB,8CAAO,WAAOsB,GAAP,eAAAC,EAAA,+EAEsBzB,IAAWC,WAAWC,GAF5C,OAGoB,OADfwB,EAFL,QAGWC,OACVH,EAAS,CACPI,KAAMC,IAAiBC,YACvBC,QAASL,EAASM,OAKpBR,EAAS,CACPI,KAAMC,IAAiBI,kBACvBF,QAASL,EAASM,KAAKE,UAb1B,gDAiBDV,EAAS,CACPI,KAAMC,IAAiBI,kBACvBF,QAAS,KAAML,SAASQ,UAnBzB,yDAAP,uDAoKSd,EAAgB,SAAClB,GAC5B,8CAAO,WAAOsB,GAAP,eAAAC,EAAA,+EAEsBzB,IAAWoB,cAAclB,GAF/C,OAGoB,OADfwB,EAFL,QAGWC,OACVH,EAAS,CACPI,KAAMC,IAAiBM,eACvBJ,QAAS7B,IAKXsB,EAAS,CACPI,KAAMC,IAAiBI,kBACvBF,QAASL,EAASM,KAAKE,UAb1B,gDAiBDV,EAAS,CACPI,KAAMC,IAAiBI,kBACvBF,QAAS,KAAML,SAASQ,UAnBzB,yDAAP,wD,iCC1Ka,sM,iCCAA,kM,4TCsBTE,EAAWC,aAAW,iBAAO,CACjCC,YAAa,CACXC,YAAa,QACbC,YAAa,UACbC,YAAa,MACbC,gBAAiB,UACjBC,MAAO,QACPC,OAAQ,QAEVC,WAAY,CACVH,gBAAiB,UACjBI,QAAS,YACTC,OAAQ,iBACRC,MAAO,QAEPC,aAAc,QAEhBC,QAAS,CACPP,MAAO,QACPC,OAAQ,QACRO,WAAY,SAEdC,YAAa,CACXL,OAAQ,oBACRD,QAAS,OACTJ,gBAAiB,OACjBW,aAAc,qBAIlB,SAASC,EAASC,GAChB,IAAQC,EAAqCD,EAArCC,SAAUC,EAA2BF,EAA3BE,MAAOC,EAAoBH,EAApBG,MAAUC,EAAnC,YAA6CJ,EAA7C,GAEA,OACE,6CACEK,KAAK,WACLC,OAAQJ,IAAUC,EAClBxD,GAAE,0BAAqBwD,GACvB,uCAA+BA,IAC3BC,GALN,aAOGF,IAAUC,GACT,cAAC,IAAD,CAAKI,GAAI,CAAEC,EAAG,GAAd,SACE,cAAC,IAAD,UAAaP,SAavB,SAASQ,EAAUN,GACjB,MAAO,CACLxD,GAAG,cAAD,OAAgBwD,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIzB,SAASO,IACtBC,YAAS,WACT,IAAMC,EAAU/B,IAChB,EAA0BgC,mBAAS,GAAnC,mBAAOX,EAAP,KAAcY,EAAd,KACA,EAAsCD,oBAAS,GAA/C,mBAAOE,EAAP,KAAoBC,EAApB,KACA,EAAoCH,oBAAS,GAA7C,mBAAOI,EAAP,KAAmBC,EAAnB,KACA,EAAkCL,oBAAS,GAA3C,mBAAOM,EAAP,KAAkBC,EAAlB,KAEMC,EAAYC,cAAY3E,GAC9B,EAA+B4E,aAAY,SAACC,GAAD,OAAWA,EAAMC,kBAApDC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,UAEX1D,EAAW2D,cACjBC,qBAAU,kBAAM5D,EAASvB,YAAW2E,GAAY,CAACpD,OAEjD,MAA8B4C,mBAAS,IAAvC,mBAAOiB,EAAP,KAEMC,GAFN,KAEgB,SAACC,GACf,IAAIC,EAAO,GAIX,OAHID,IACFC,EAAOD,EAAKE,MAAM,OAEbD,IAGLE,EAAS,KACTT,IACFS,EAASC,YACPV,EAAQW,MAAQX,EAAQW,MAAQC,IAASC,UACzC,IACA,KACA,GACA,IAIJ,IAGA,EAAkC1B,mBAAS,IAA3C,mBAAO2B,GAAP,KAYMC,IAZN,KAYoB,SAACtC,EAAOuC,GAC1B,GAAIZ,EAAQ3B,GACV,GAAI2B,EAAQ3B,GAAOwC,SAASD,GAC1B,IAAK,IAAIE,EAAI,EAAGA,EAAId,EAAQ3B,GAAO0C,OAAQD,IACrCd,EAAQ3B,GAAOyC,IAAMF,GACvBZ,EAAQ3B,GAAO2C,OAAOF,EAAG,QAI7Bd,EAAQ3B,GAAO4C,KAAKL,OAEjB,CAELZ,EAAQ3B,GADC,GAET2B,EAAQ3B,GAAO4C,KAAKL,MAmDxB,OACE,mCACE,eAAC,IAAD,WACE,qCACE,cAAC,IAAD,CAAYM,QAAQ,KAAKC,MAAM,SAA/B,SACGvB,EAAQwB,QAEX,cAAC,IAAD,UAAaxB,EAAQyB,aAGtBzB,EAAQ0B,MACP,8BACE,cAAC,YAAD,CACEC,KAAmB,IAAdlC,GAAsBO,EAAQ0B,MACnCE,QAAS,kBAAMlC,GAAa,QAIhC,qBAAKmC,UAAW3C,EAAQjB,QAAS0D,IAAKlB,EAAQqB,IAAI,GAAGP,MAAM,WAG5DvB,EAAQ+B,OACP,wBAAOC,UAAQ,EAAf,UACE,wBAAQL,IAAK3B,EAAQ+B,MAAOpF,KAAK,eADnC,sDAMF,eAAC,IAAD,CAAKkC,GAAI,CAAEnB,MAAO,QAAlB,UACE,cAAC,IAAD,CACEmB,GAAI,CACFoD,aAAc,EACd1E,YAAa,UACbE,gBAAiB,UACjBM,MAAO,SALX,SAQE,eAAC,IAAD,CACES,MAAOA,EACP0D,SAvHS,SAACC,EAAQC,GAC5BhD,EAASgD,IAuHC,aAAW,qBACXC,eAAe,UAJjB,UAME,cAAC,IAAD,aAAKC,MAAM,UAAavD,EAAU,KAClC,cAAC,IAAD,aAAKuD,MAAM,WAAcvD,EAAU,KACnC,cAAC,IAAD,aAAKuD,MAAM,QAAWvD,EAAU,UAGpC,sBAAK8C,UAAW3C,EAAQf,YAAxB,UACE,cAACE,EAAD,CAAUG,MAAOA,EAAOC,MAAO,EAA/B,SACE,oBAAI8D,wBAAyB,CAAEC,OAAQxC,EAAQyC,YAGjD,cAACpE,EAAD,CAAUG,MAAOA,EAAOC,MAAO,EAA/B,SACGuB,EAAQ0C,OACP1C,EAAQ0C,MAAMC,KAAI,SAACC,EAAMnE,GAAP,OAChB,qCACE,cAAC,IAAD,CAAYoD,UAAW3C,EAAQtB,WAA/B,SACE,8BACE,4CAAea,EAAQ,EAAvB,SACCmE,EAAKC,WAIV,8BACGxC,EAAQuC,EAAKE,UAAUH,KAAI,SAACI,GAAD,OAC1B,cAAC,IAAD,CAAYzB,QAAQ,QAAQC,MAAM,UAAlC,SACGwB,iBAQf,eAAC1E,EAAD,CAAUG,MAAOA,EAAOC,MAAO,EAA/B,UACE,cAAC,IAAD,CAAY6C,QAAQ,KAApB,iEAICrB,GACCA,EAAU0C,KAAI,SAACK,EAAUvE,GAAX,OACZ,qCACE,eAAC,IAAD,CAAY6C,QAAQ,QAApB,UACG7C,EAAQ,EADX,KACgBuE,EAASvB,QACtBpC,GAAmC,GAApByB,GAAUrC,IACxB,+BACE,qBAAKkD,IAAKsB,IAAanB,IAAI,eAG9BzC,GAAmC,GAApByB,GAAUrC,IACxB,+BACE,qBAAKkD,IAAKuB,IAAepB,IAAI,kBAInC,cAAC,IAAD,UACGkB,EAASG,QAAQR,KAAI,SAACC,EAAM5B,GAAP,OACpBzB,GAAgC,GAAlBqD,EAAK9B,UACjB,cAAC,IAAD,CAEEsC,QACE,cAAC,IAAD,CACErF,MAAM,UACN9C,GAAE,UAAK2H,EAAL,YAAa5B,GACfqC,QAAS,kBAAMtC,GAAYtC,EAAOuC,MAGtCsB,MACE,cAAC,IAAD,CAAYgB,MAAO,CAAEvF,MAAO,WAA5B,SACE,iCAAS6E,EAAKW,aAVbvC,GAeP,cAAC,IAAD,CAEEoC,QACE,cAAC,IAAD,CACErF,MAAM,UACN9C,GAAE,UAAK2H,EAAL,YAAa5B,GACfqC,QAAS,kBAAMtC,GAAYtC,EAAOuC,MAGtCsB,MAAOM,EAAKW,SARPvC,cAgBnB,cAAC,IAAD,CAAQjD,MAAM,UAAUsF,QAAS,kBAnLd,WAC7B,GAAIjD,EAAQe,OAAS,EACnB,IAAK,IAAIH,EAAI,EAAGA,EAAIZ,EAAQe,OAAQH,IAClC,GAAIZ,EAAQY,GACV,GAAIZ,EAAQY,GAAGG,OAAS,EAAG,CAEzB,IADA,IAAIqC,EAAgB,EACXtC,EAAI,EAAGA,EAAIjB,EAAUe,GAAGmC,QAAQhC,OAAQD,KACL,IAAtCjB,EAAUe,GAAGmC,QAAQjC,GAAGJ,YAC1B0C,GAAiB,GAEnBC,QAAQC,IAAItD,EAAQY,IAEtB,GAAIwC,IAAkBpD,EAAQY,GAAGG,OAAQ,CACvCL,GAAUE,IAAK,EACf,IAAK,IAAI2C,EAAI,EAAGA,EAAIvD,EAAQY,GAAGG,OAAQwC,IACgB,GAAjD1D,EAAUe,GAAGmC,QAAQ/C,EAAQY,GAAG2C,IAAI7C,YACtCA,GAAUE,IAAK,QAInBF,GAAUE,IAAK,OAQb4C,OAAOC,QAAQ,sEACjBD,OAAOE,aAIPF,OAAOC,QAAQ,sEACjBD,OAAOE,aAKTF,OAAOC,QAAQ,sEACjBD,OAAOE,QAGXxE,GAAe,GACfE,GAAc,GAuImCuE,IAAvC,2BAGA,cAAC,IAAD,CAAQhG,MAAM,UAAUsF,QAAS,WA7MvCO,OAAOC,QAAQ,mCACjBD,OAAOI,SAASC,UA4MR,wBAGA,cAAC,IAAD,CAAQlG,MAAM,UAAUsF,QAAS,WApN3C7D,GAAc,IAoNJ","file":"static/js/31.8b278979.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst URL = `/api/grammar`;\r\n\r\nconst grammarApi = {\r\n  getGrammar: (id) => {\r\n    return axios.get(`${URL}/get-grammar/${id}`)\r\n  },\r\n\r\n  getGrammarById: (id) => {\r\n    return axios.get(`${URL}/get-grammar-by-id/${id}`)\r\n  },\r\n\r\n  getGrammarByLevel: (level, token) => {\r\n    return axios.get(`${URL}/get-grammar-by-level/${level}`, {\r\n      headers: {Authorization: token}\r\n    })\r\n  },\r\n\r\n  getGrammarLevels: (token) => {\r\n    return axios.get(`${URL}/get-grammar-levels`, {\r\n      headers: {Authorization: token}\r\n    })\r\n  },\r\n\r\n  getAllGrammar: (token) => {\r\n    return axios.get(`${URL}/get-all-grammar`, {\r\n      headers: {Authorization: token}\r\n    })\r\n  },\r\n\r\n  postGrammar: (formData) => {\r\n    return axios.post(`${URL}/post-grammar`, {...formData},\r\n    {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    })\r\n  },\r\n\r\n  putGrammar: (id, formData) => {\r\n    return axios.put(`${URL}/put-grammar/${id}`, { ...formData},\r\n    {\r\n      params: { id },\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    });\r\n  },\r\n\r\n  deleteGrammar: (id) => {\r\n    return axios.patch(`${URL}/delete-grammar/${id}`)\r\n  },\r\n\r\n  searchGrammar: (title) => {\r\n    return axios.get(`${URL}/search-grammar`, {params: {title}})\r\n  },\r\n}\r\n\r\nexport default grammarApi;\r\n","import GRAMMAR_CONSTANT from \"../constants/grammarConstant\";\r\nimport grammarApi from \"./../../apis/grammarApi\";\r\n\r\n\r\nexport const getGrammar = (id) => {\r\n    return async (dispatch) => {\r\n        try { \r\n          const response = await grammarApi.getGrammar(id);\r\n          if(response.status===200){\r\n            dispatch({\r\n              type: GRAMMAR_CONSTANT.GET_GRAMMAR,\r\n              payload: response.data,\r\n            })\r\n          }\r\n          else\r\n          {\r\n            dispatch({\r\n              type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n              payload: response.data.message,\r\n            })\r\n          }\r\n        } catch (error) {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: error.response.message,\r\n          })\r\n        }\r\n      }\r\n};\r\n\r\nexport const getAllGrammar = () => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_LOADING,\r\n          payload:true,\r\n        });\r\n\r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await grammarApi.getAllGrammar(user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.GET_ALL_GRAMMAR,\r\n            payload: response.data.grammars,\r\n          })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n          payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const getGrammarByLevel = (level) => {\r\n  return async (dispatch) => {\r\n      try { \r\n        const response = await grammarApi.getGrammarByLevel(level);\r\n        if(response.status===200){\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.GET_GRAMMAR_BY_LEVEL,\r\n            payload: response.data.grammars,\r\n          })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n          payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const getGrammarLevels = () => {\r\n  return async (dispatch) => {\r\n      try { \r\n        const response = await grammarApi.getGrammarLevels();\r\n        if(response.status===200){\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.GET_GRAMMAR_LEVELS,\r\n            payload: response.data.levels,\r\n          })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n          payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const postGrammar = (formData) => {\r\n  return async (dispatch) => {\r\n      try { \r\n        const response = await grammarApi.postGrammar(formData);\r\n        if(response.status===200){\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.CREATE_GRAMMAR,\r\n            payload: response.data.grammar,\r\n          })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n          payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const putGrammar = (id, formData) => {\r\n  return async (dispatch)=>{\r\n    try{\r\n        const response = await grammarApi.putGrammar(id, formData);\r\n        if(response.status===200){\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.EDIT_GRAMMAR,\r\n            payload: response.data.grammar,\r\n          })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n          payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const deleteGrammar = (id) => {\r\n  return async (dispatch) => {\r\n      try { \r\n        const response = await grammarApi.deleteGrammar(id);\r\n        if(response.status===200){\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.DELETE_GRAMMAR,\r\n            payload: id,\r\n          })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: GRAMMAR_CONSTANT.SET_GRAMMAR_ERROR,\r\n          payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n","export default \"data:image/gif;base64,R0lGODlhEAAQAKIAAMQAAP///9ZPT+aXl/TPz8sfH95vb+yvryH5BAUUAAEALAAAAAAQABAAAANCGLrc/pBAN8RsALRTimQFYCxDVhxNqQWq9YQCkbmPnAE0dJiXYtwfyA+XQTkIgswgkBQFmbel7wYIGmIbgcDYayQAADs=\"","export default \"data:image/gif;base64,R0lGODlhEAAQAKIAAD6wPv///53XneHz4WnCab7kvlG4UXnIeSH5BAUUAAEALAAAAAAQABAAAAM+GLrMcy2qQohswpxxV96dkhFcWBhkGJxGoT6AIAmuCICYYcgnUUcCQOsQ6wwMQkCqEwQUQwPn0kiUqVbWSwIAOw==\"","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport useTitle from \"../hooks/useTitle\";\r\nimport { VideoCard } from \"material-ui-player\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getGrammar } from \"../redux/actions/grammarAction\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { cloudinaryImgOptimize } from \"helper\";\r\nimport { DEFAULTS } from \"../constants/index\";\r\nimport incorrectIcon from \"assets/icons/checkAnswer/incorrect.gif\";\r\nimport correctIcon from \"assets/icons/checkAnswer/correct.gif\";\r\n\r\nconst useStyle = makeStyles(() => ({\r\n  borderTopic: {\r\n    borderStyle: \"solid\",\r\n    borderColor: \"initial\",\r\n    borderWidth: \"1px\",\r\n    backgroundColor: \"#ccff66\",\r\n    width: \"700px\",\r\n    height: \"auto\",\r\n  },\r\n  grammarbox: {\r\n    backgroundColor: \"#99ffff\",\r\n    padding: \"10px 10px\",\r\n    border: \"1px solid #666\",\r\n    color: \"black\",\r\n\r\n    marginBottom: \"10px\",\r\n  },\r\n  picture: {\r\n    width: \"50rem\",\r\n    height: \"30rem\",\r\n    marginLeft: \"15rem\",\r\n  },\r\n  tabcontents: {\r\n    border: \"1px solid #2eb8b8\",\r\n    padding: \"10px\",\r\n    backgroundColor: \"#FFF\",\r\n    borderRadius: \"0 3px 3px 3px\",\r\n  },\r\n}));\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    \"aria-controls\": `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport default function GrammarPage() {\r\n  useTitle(\"Grammar\");\r\n  const classes = useStyle();\r\n  const [value, setValue] = useState(0);\r\n  const [checkAnswer, setCheckAnswer] = useState(false);\r\n  const [showAnswer, setShowAnswer] = useState(false);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n\r\n  const grammarId = useParams().id;\r\n  const { grammar, questions } = useSelector((state) => state.grammarReducer);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => dispatch(getGrammar(grammarId), [dispatch]));\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  const getText = (text) => {\r\n    let Text = [];\r\n    if (text) {\r\n      Text = text.split(\"\\n\");\r\n    }\r\n    return Text;\r\n  };\r\n\r\n  let imgSrc = null;\r\n  if (grammar) {\r\n    imgSrc = cloudinaryImgOptimize(\r\n      grammar.Image ? grammar.Image : DEFAULTS.IMAGE_SRC,\r\n      200,\r\n      200,\r\n      true,\r\n      true\r\n    );\r\n  }\r\n\r\n  const handleChange = (_event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n  const [isCorrect, setisCorrect] = useState([]);\r\n\r\n  const handleClickShowAnswer = () => {\r\n    setShowAnswer(true);\r\n  };\r\n\r\n  const handleClickReset = () => {\r\n    if (window.confirm(\"Do you want reload page again?\")) {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  const handleCheck = (index, i) => {\r\n    if (answers[index]) {\r\n      if (answers[index].includes(i)) {\r\n        for (var j = 0; j < answers[index].length; j++) {\r\n          if (answers[index][j] == i) {\r\n            answers[index].splice(j, 1);\r\n          }\r\n        }\r\n      } else {\r\n        answers[index].push(i);\r\n      }\r\n    } else {\r\n      let ar = [];\r\n      answers[index] = ar;\r\n      answers[index].push(i);\r\n    }\r\n  };\r\n\r\n  const handleClickCheckAnswer = () => {\r\n    if (answers.length > 0) {\r\n      for (var i = 0; i < answers.length; i++) {\r\n        if (answers[i]) {\r\n          if (answers[i].length > 0) {\r\n            let numberCorrect = 0;\r\n            for (let j = 0; j < questions[i].Answers.length; j++) {\r\n              if (questions[i].Answers[j].isCorrect === true) {\r\n                numberCorrect += 1;\r\n              }\r\n              console.log(answers[i]);\r\n            }\r\n            if (numberCorrect === answers[i].length) {\r\n              isCorrect[i] = true;\r\n              for (let k = 0; k < answers[i].length; k++) {\r\n                if (questions[i].Answers[answers[i][k]].isCorrect == false) {\r\n                  isCorrect[i] = false;\r\n                }\r\n              }\r\n            } else {\r\n              isCorrect[i] = false;\r\n            }\r\n\r\n            // if(answers[i].length>1) {isCorrect[i]=false;}\r\n            // else{\r\n            //   if(questions[i].Answers[answers[i][0]].isCorrect==true) {isCorrect[i]=true;}\r\n            //   if(questions[i].Answers[answers[i][0]].isCorrect==false) {isCorrect[i]=false;}\r\n          } else {\r\n            if (window.confirm(\"Chọn đáp án cho tất cả câu hỏi.\")) {\r\n              window.close();\r\n            }\r\n          }\r\n        } else {\r\n          if (window.confirm(\"Chọn đáp án cho tất cả câu hỏi.\")) {\r\n            window.close();\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (window.confirm(\"Chọn đáp án cho tất cả câu hỏi.\")) {\r\n        window.close();\r\n      }\r\n    }\r\n    setCheckAnswer(true);\r\n    setShowAnswer(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <>\r\n          <Typography variant=\"h6\" align=\"center\">\r\n            {grammar.Title}\r\n          </Typography>\r\n          <Typography>{grammar.Content}</Typography>\r\n        </>\r\n\r\n        {grammar.Video ? (\r\n          <div>\r\n            <VideoCard\r\n              src={isPlaying === true && grammar.Video}\r\n              onEnded={() => setIsPlaying(false)}\r\n            ></VideoCard>\r\n          </div>\r\n        ) : (\r\n          <img className={classes.picture} src={imgSrc} alt=\"\" align=\"center\" />\r\n        )}\r\n\r\n        {grammar.Audio && (\r\n          <audio controls>\r\n            <source src={grammar.Audio} type=\"audio/mpeg\" />\r\n            Your browser does not support the audio element.\r\n          </audio>\r\n        )}\r\n\r\n        <Box sx={{ width: \"100%\" }}>\r\n          <Box\r\n            sx={{\r\n              borderBottom: 1,\r\n              borderColor: \"divider\",\r\n              backgroundColor: \"#2eb8b8\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            <Tabs\r\n              value={value}\r\n              onChange={handleChange}\r\n              aria-label=\"basic tabs example\"\r\n              indicatorColor=\"primary\"\r\n            >\r\n              <Tab label=\"Script\" {...a11yProps(0)} />\r\n              <Tab label=\"Grammar\" {...a11yProps(1)} />\r\n              <Tab label=\"Quiz\" {...a11yProps(2)} />\r\n            </Tabs>\r\n          </Box>\r\n          <div className={classes.tabcontents}>\r\n            <TabPanel value={value} index={0}>\r\n              <td dangerouslySetInnerHTML={{ __html: grammar.Script }} />\r\n            </TabPanel>\r\n\r\n            <TabPanel value={value} index={1}>\r\n              {grammar.Items &&\r\n                grammar.Items.map((item, index) => (\r\n                  <>\r\n                    <Typography className={classes.grammarbox}>\r\n                      <p>\r\n                        <strong>Point {index + 1} : </strong>\r\n                        {item.Point}\r\n                      </p>\r\n                    </Typography>\r\n\r\n                    <div>\r\n                      {getText(item.Examples).map((it) => (\r\n                        <Typography variant=\"body2\" align=\"justify\">\r\n                          {it}\r\n                        </Typography>\r\n                      ))}\r\n                    </div>\r\n                  </>\r\n                ))}\r\n            </TabPanel>\r\n\r\n            <TabPanel value={value} index={2}>\r\n              <Typography variant=\"h6\">\r\n                Answer the following questions about the interview.\r\n              </Typography>\r\n\r\n              {questions &&\r\n                questions.map((question, index) => (\r\n                  <>\r\n                    <Typography variant=\"body2\">\r\n                      {index + 1}) {question.Content}\r\n                      {checkAnswer && isCorrect[index] == true && (\r\n                        <span>\r\n                          <img src={correctIcon} alt=\"Correct!\" />\r\n                        </span>\r\n                      )}\r\n                      {checkAnswer && isCorrect[index] == false && (\r\n                        <span>\r\n                          <img src={incorrectIcon} alt=\"Correct!\" />\r\n                        </span>\r\n                      )}\r\n                    </Typography>\r\n                    <FormGroup>\r\n                      {question.Answers.map((item, i) =>\r\n                        showAnswer && item.isCorrect == true ? (\r\n                          <FormControlLabel\r\n                            key={i}\r\n                            control={\r\n                              <Checkbox\r\n                                color=\"primary\"\r\n                                id={`${item}-${i}`}\r\n                                onClick={() => handleCheck(index, i)}\r\n                              />\r\n                            }\r\n                            label={\r\n                              <Typography style={{ color: \"#008000\" }}>\r\n                                <strong>{item.content}</strong>\r\n                              </Typography>\r\n                            }\r\n                          ></FormControlLabel>\r\n                        ) : (\r\n                          <FormControlLabel\r\n                            key={i}\r\n                            control={\r\n                              <Checkbox\r\n                                color=\"primary\"\r\n                                id={`${item}-${i}`}\r\n                                onClick={() => handleCheck(index, i)}\r\n                              />\r\n                            }\r\n                            label={item.content}\r\n                          ></FormControlLabel>\r\n                        )\r\n                      )}\r\n                    </FormGroup>\r\n                  </>\r\n                ))}\r\n\r\n              <Button color=\"primary\" onClick={() => handleClickCheckAnswer()}>\r\n                Check Answers\r\n              </Button>\r\n              <Button color=\"primary\" onClick={() => handleClickReset()}>\r\n                Reset Quiz\r\n              </Button>\r\n              <Button color=\"primary\" onClick={() => handleClickShowAnswer()}>\r\n                Show Answers\r\n              </Button>\r\n            </TabPanel>\r\n          </div>\r\n        </Box>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}