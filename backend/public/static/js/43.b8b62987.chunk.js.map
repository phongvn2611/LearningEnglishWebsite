{"version":3,"sources":["components/QuizAdmin/style.js","components/QuizAdmin/ListeningItem/style.js","components/QuizAdmin/ListeningItem/index.js","components/QuizAdmin/WordPackSetting.js","components/QuizAdmin/WordSkeleton.js","components/QuizAdmin/index.js","components/QuizAdmin/data.js","pages/QuizAdmin.js"],"names":["makeStyles","theme","dictionaryRoot","root","padding","borderBottom","cursor","transition","picture","width","height","word","fontSize","fontWeight","color","type","phonetic","margin","mean","maxWidth","lineHeight","ListeningItem","_id","Name","Image","Topic","CreateDate","classes","useStyle","imgSrc","cloudinaryImgOptimize","DEFAULTS","IMAGE_SRC","history","useHistory","useState","loading","open","modal","setModal","useDispatch","className","onClick","id","push","src","alt","WordDetailModal","onClose","defaultProps","onShowDetail","ListeningTopicSetting","classNameIcon","onChoose","openWordPack","setOpenWordPack","ListeningTopic","onCancel","v","WordSkeleton","Array","fill","map","_","index","Skeleton","animation","variant","QuizAdmin","list","onLoadData","more","isFirstLoad","onSettingWordPack","onSortTypeChange","onSearchWord","SortType","onSelect","WordPackSetting","contentWrap","AutoSearchInput","disabled","onSearch","listWrap","skeleton","length","item","listItem","InfiniteScroll","onTouchAnchor","threshold","QuizAdminData","page","setPage","sortType","setSortType","topic","packInfo","setPackInfo","setLoading","setList","setMore","setIsFirstLoad","totalPage","useRef","preSearchList","name","a","current","listeningApi","searchListen","apiRes","status","data","listens","useEffect","isSub","getAllListen","getListenByTopic","newList","info","isEqual","equalArray","ListeningDetailModal","QuizAdminPage","useTitle"],"mappings":"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","file":"static/js/43.b8b62987.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\nimport { dictionaryRoot } from 'components/UI/style';\n\nexport default makeStyles((theme) => ({\n  ...dictionaryRoot(theme),\n}));\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles(() => ({\n  root: {\n    padding: '1.2rem 0',\n    borderBottom: 'solid 1px var(--border-color)',\n    cursor: 'pointer',\n    transition: 'all 0.35s',\n\n    '&:hover, &:active': {\n      borderBottom: 'solid 1px var(--accent-color)',\n    },\n  },\n\n  picture: {\n    width: '5rem',\n    height: '5rem',\n  },\n\n  word: {\n    fontSize: '1.8rem',\n    fontWeight: 500,\n    color: 'var(--primary-color)',\n  },\n\n  type: {\n    color: 'var(--label-color)',\n  },\n\n  phonetic: {\n    fontSize: '1.5rem',\n    margin: '0.8rem 0',\n  },\n\n  mean: {\n    fontSize: '1.6rem',\n    color: 'var(--text-color)',\n    maxWidth: '80%',\n    lineHeight: 1.5,\n  },\n}));\n","\nimport { cloudinaryImgOptimize } from \"helper\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport useStyle from \"./style\";\nimport WordDetailModal from \"components/UI/WordDetailModal\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport { DEFAULTS } from '../../../constants/index';\nimport { deleteListen } from \"redux/actions/listeningAction\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction ListeningItem({ _id, Name, Image, Topic, CreateDate }) {\n  const classes = useStyle();\n  const imgSrc = cloudinaryImgOptimize(\n    Image ? Image : DEFAULTS.IMAGE_SRC,\n    50,\n    50,\n    true,\n    true\n  );\n\n  const history = useHistory();\n  function handleClick(id) {\n    history.push(`/admin/quiz/details/${id}`);\n  }\n  const [modal, setModal] = useState({ loading: false, open: false });\n  const dispatch = useDispatch();\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Bạn chắc chắn muốn xóa bài viết này?')) {\n       dispatch(deleteListen(id));\n       dispatch(setMessage(\"Delete successfully\", \"success\"));\n     window.location.reload();\n    }\n  };\n\n  return (\n    <>\n      <div className={`${classes.root} flex-center-between`}>\n        <div \n          className=\"w-100 flex-center--ver\"\n          onClick={() => handleClick(_id)}\n        >\n          <img className={classes.picture} src={imgSrc} alt=\"\" />\n          <div className=\"ml-8 flex-grow-1\">\n            <h3 className={classes.word}>\n              {Name}\n              \n            </h3>\n          \n              <p className={`${classes.phonetic} phonetic`}> Topic: {Topic} </p>\n           \n            <p className={classes.mean}>Create Date: {CreateDate}</p>\n          </div>\n        </div>\n        <div className=\"flex-center--ver\">\n      </div>\n      </div>\n      {modal.open && (\n        <WordDetailModal\n          {...modal}\n          onClose={() => setModal({ open: false, loading: false })}\n        />\n      )}\n    </>\n  );\n}\n\nListeningItem.propTypes = {\n  CreateDate: PropTypes.string,\n  onShowDetail: PropTypes.func,\n  Topic: PropTypes.string,\n  Image: PropTypes.string,\n  Name: PropTypes.string,\n  _id: PropTypes.string,\n};\n\nListeningItem.defaultProps = {\n  onShowDetail: function () {},\n};\n\nexport default ListeningItem;\n","import SettingsIcon from '@material-ui/icons/Settings';\nimport ListeningTopic from '../UI/ListeningTopic';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\n\nfunction ListeningTopicSetting({ classNameIcon, onChoose }) {\n  const [openWordPack, setOpenWordPack] = useState(false);\n\n  const onSelect = (v) => {\n    onChoose(v);\n    setOpenWordPack(false);\n  };\n\n  return (\n    <>\n      <SettingsIcon\n        className={classNameIcon}\n        onClick={() => setOpenWordPack(true)}\n      />\n\n      {/* setting modal */}\n      {openWordPack && (\n        <ListeningTopic\n          open={openWordPack}\n          onCancel={() => setOpenWordPack(false)}\n          onChoose={onSelect}\n        />\n      )}\n    </>\n  );\n}\n\nListeningTopicSetting.propTypes = {\n  classNameIcon: PropTypes.string,\n  onChoose: PropTypes.func,\n};\n\nListeningTopicSetting.defaultProps = {\n  onChoose: () => {},\n};\n\nexport default ListeningTopicSetting;\n","import PropTypes from 'prop-types';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\n\nfunction WordSkeleton({ className }) {\n  return (\n    <div className={className}>\n      {new Array(10).fill(0).map((_, index) => (\n        <Skeleton key={index} animation=\"wave\" variant=\"rect\" />\n      ))}\n    </div>\n  );\n}\n\nWordSkeleton.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default WordSkeleton;\n","import LoopIcon from '@material-ui/icons/Loop';\nimport AutoSearchInput from 'components/UI/AutoSearchInput';\nimport InfiniteScroll from 'components/UI/InfiniteScroll';\nimport SortTypeModal from 'components/UI/SortType';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport useStyle from './style';\nimport WordItem from './ListeningItem/index';\nimport WordPackSetting from './WordPackSetting';\nimport WordSkeleton from './WordSkeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport { ROUTES } from 'constants/index';\nimport { useHistory } from 'react-router-dom';\n\nfunction QuizAdmin({\n  list,\n  loading,\n  onLoadData,\n  more,\n  isFirstLoad,\n  onSettingWordPack,\n  onSortTypeChange,\n  onSearchWord,\n}) {\n  const classes = useStyle();\n  const history = useHistory();\n  \n  return (\n    <div className={`${classes.root} dyno-container`}>\n      {/* title - menu */}\n      <div className=\"flex-center-between\">\n        <h1 className=\"dyno-title\">Quản lý quiz</h1>\n        <div>\n          \n  \n          <SortTypeModal\n            onSelect={onSortTypeChange}\n            classNameIcon=\"dyno-setting-icon mr-5\"\n          />\n          <WordPackSetting\n              onChoose={onSettingWordPack}\n              classNameIcon=\"dyno-setting-icon\"\n          />\n        </div>\n      </div>\n      <div className=\"dyno-break\"></div>\n\n      {/* list content */}\n      <div className={classes.contentWrap}>\n        <AutoSearchInput disabled={loading} onSearch={onSearchWord} />\n\n        <div className={`${classes.listWrap} w-100`}>\n          <ul id=\"dictionaryId\" className={`${classes.list} flex-col w-100`}>\n            <>\n              {isFirstLoad ? (\n                <WordSkeleton className={classes.skeleton} />\n              ) : (\n                <>\n                  {list && list.length > 0 ? (\n                    <>\n                      {/* render list */}\n                      {list.map((item, index) => (\n                        <li className={classes.listItem} key={index}>\n                          <WordItem {...item} />\n                        </li>\n                      ))}\n\n                      {/* infinite scrolling */}\n                      {!loading && more && (\n                        <InfiniteScroll\n                          onTouchAnchor={onLoadData}\n                          threshold={1}>\n                          <div className=\"w-100 t-center\">\n                            <LoopIcon className=\"ani-spin\" />\n                          </div>\n                        </InfiniteScroll>\n                      )}\n                    </>\n                  ) : (\n                    // empty list\n                    <h3 className=\"notfound-title h-100 flex-center t-center\">\n                      No result.\n                    </h3>\n                  )}\n                </>\n              )}\n            </>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nQuizAdmin.propTypes = {\n  isFirstLoad: PropTypes.bool,\n  list: PropTypes.array,\n  loading: PropTypes.bool,\n  more: PropTypes.bool,\n  onLoadData: PropTypes.func,\n  onSearchWord: PropTypes.func,\n  onSettingWordPack: PropTypes.func,\n  onSortTypeChange: PropTypes.func,\n};\n\nQuizAdmin.defaultProps = {\n  list: [],\n  loading: false,\n  more: true,\n  isFirstLoad: true,\n  onLoadData: function () {},\n  onSearchWord: function () {},\n  onSettingWordPack: function () {},\n  onSortTypeChange: function () {},\n};\n\nexport default QuizAdmin;\n","import listeningApi from \"apis/listeningApi\";\nimport ListeningDetailModal from \"components/UI/ListeningDetailModal\";\nimport { equalArray } from \"helper\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport ListeningAdmin from \"./index\";\n\nfunction QuizAdminData() {\n  const [page, setPage] = useState(1);\n  const [sortType, setSortType] = useState(\"Newest\");\n  const [packInfo, setPackInfo] = useState(() => ({\n    topic: \"All\",\n  }));\n  const [loading, setLoading] = useState(true);\n  const [list, setList] = useState([]);\n  const [more, setMore] = useState(true); // toggle infinite scrolling\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n  const totalPage = useRef(0);\n  const preSearchList = useRef([]);\n\n  const nextPage = () => {\n    if (page < totalPage.current) {\n      setPage(page + 1);\n    } else {\n      setMore(false);\n    }\n  };\n\n  const settingWordPack = (info) => {\n    // check old pack vs new pack\n    let isEqual = true;\n    if (packInfo !== \"topic\" && packInfo.topic !== info.topic) {\n      isEqual = false;\n    }\n    if (isEqual) isEqual = equalArray(packInfo.topic, info.topic);\n\n    totalPage.current = 0;\n    preSearchList.current = [];\n    setMore(true);\n    setList([]);\n    setPackInfo(info);\n    setPage(1);\n  };\n\n  const onSortTypeChange = (type = \"Newest\") => {\n    if (type === sortType) return;\n    preSearchList.current = [];\n    setSortType(type);\n    setPage(1);\n    setList([]);\n  };\n\n  const onSearchWord = async (name) => {\n    try {\n      if (name === \"\") {\n        setList(preSearchList.current);\n        setMore(true);\n        return;\n      }\n      const apiRes = await listeningApi.searchListen(name);\n      if (apiRes.status === 200) {\n        // const { packList = [] } = apiRes.data.listens;\n        setList(apiRes.data.listens);\n        setMore(false);\n      }\n    } catch (error) {}\n  };\n\n  // get word pack\n  useEffect(() => {\n    let isSub = true;\n    (async function () {\n      try {\n        setLoading(true);\n        let apiRes = null;\n        if (packInfo.topic === \"All\") {\n          apiRes = await listeningApi.getAllListen(sortType);\n        } else {\n          apiRes = await listeningApi.getListenByTopic(\n            packInfo.topic,\n            sortType\n          );\n        }\n        if (apiRes && isSub) {\n          // const { packList = [] } = apiRes.data.listens;\n          const newList = apiRes.data.listens;\n          preSearchList.current = newList;\n          setList(newList);\n        }\n      } catch (error) {\n      } finally {\n        if (isSub) {\n          setLoading(false);\n          isFirstLoad && setIsFirstLoad(false);\n        }\n      }\n    })();\n\n    return () => (isSub = false);\n  }, [page, packInfo, sortType]);\n\n  return (\n    <>\n      <ListeningAdmin\n        list={list}\n        loading={loading}\n        onLoadData={nextPage}\n        more={more}\n        isFirstLoad={isFirstLoad}\n        onSettingWordPack={settingWordPack}\n        onSortTypeChange={onSortTypeChange}\n        onSearchWord={onSearchWord}\n      />\n      <ListeningDetailModal />\n    </>\n  );\n}\n\nexport default QuizAdminData;\n","import React from 'react'\nimport { dictionaryRoot } from '../components/UI/style'\nimport { makeStyles } from '@material-ui/styles';\nimport useTitle from './../hooks/useTitle';\nimport QuizAdminData from 'components/QuizAdmin/data';\n\nconst useStyle = makeStyles((theme) => ({\n  ...dictionaryRoot(theme)\n}))\n\nexport default function QuizAdminPage() {\n  useTitle('Listening Admin')\n  const classes = useStyle();\n  return (\n    <div className=\"container\">\n      <QuizAdminData />\n    </div>\n  )\n}\n\n"],"sourceRoot":""}