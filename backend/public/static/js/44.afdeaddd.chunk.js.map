{"version":3,"sources":["apis/listeningApi.js","pages/ListeningByTopic.js"],"names":["URL","listeningApi","getListening","id","axios","get","getListenByTopic","topic","type","params","getListenById","getListenTopics","getAllListen","searchListen","name","postListen","formData","post","header","putListen","put","deleteListen","delete","useStyle","makeStyles","mobilelist","height","floatleft","float","margin","padding","title","display","fontSize","fontWeight","color","tldetail","textlimit","overflow","textOverflow","whiteSpace","width","ListeningByTopicPage","useTitle","useState","list","setList","classes","useHistory","useParams","useEffect","a","apiRes","status","console","log","data","listens","variant","align","className","style","position","left","map","item","to","_id","src","image","Image","cloudinaryImgOptimize","DEFAULTS","IMAGE_SRC","alt","Name","Description"],"mappings":"mIACMA,EAAG,iBAEHC,EAAe,CACnBC,aAAc,SAACC,GACb,OAAOC,IAAMC,IAAN,UAAaL,EAAb,0BAAkCG,KAG3CG,iBAAkB,SAACC,EAAOC,GACxB,OAAOJ,IAAMC,IAAN,UAAaL,EAAb,wBAAwC,CAACS,OAAQ,CAACF,QAAOC,WAGlEE,cAAe,SAACP,GACd,OAAOC,IAAMC,IAAN,UAAaL,EAAb,6BAAqCG,KAG9CQ,gBAAiB,SAACJ,EAAOC,GACvB,OAAOJ,IAAMC,IAAN,UAAaL,EAAb,sBAAqC,CAACS,OAAQ,CAAEF,QAAOC,WAGhEI,aAAc,SAACJ,GACb,OAAOJ,IAAMC,IAAN,UAAaL,EAAb,mBAAmC,CAACS,OAAQ,CAACD,WAGtDK,aAAc,SAACC,GACb,OAAOV,IAAMC,IAAN,UAAaL,EAAb,kBAAkC,CAACS,OAAQ,CAACK,WAGrDC,WAAY,SAACC,GACX,OAAOZ,IAAMa,KAAN,UAAcjB,EAAd,+BAAqCgB,GAC5C,CACEE,OAAQ,CAAE,eAAgB,0BAI9BC,UAAW,SAAChB,EAAIa,GACd,OAAOZ,IAAMgB,IAAN,UAAapB,EAAb,uBAA+BG,GAA/B,eAA0Ca,GACjD,CACEP,OAAQ,CAAEN,MACVe,OAAQ,CAAE,eAAgB,0BAI9BG,aAAc,SAAClB,GACb,OAAOC,IAAMkB,OAAN,UAAgBtB,EAAhB,0BAAqCG,MAIjCF,O,6JCpCTsB,EAAWC,aAAW,iBAAO,CACjCC,WAAY,CACVC,OAAQ,SAEVC,UAAW,CACTC,MAAO,OACPC,OAAQ,kBACRC,QAAS,OAEXC,MAAO,CACLC,QAAS,eACTC,SAAU,SACVC,WAAY,IACZC,MAAO,OACPN,OAAQ,qBACR,mBAAoB,CAClBM,MAAO,SAGXC,SAAU,CACRH,SAAU,SACVC,WAAY,IACZC,MAAO,SAETE,UAAW,CACTC,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,MAAO,aA+EIC,UA3Ef,WACEC,YAAS,aACT,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACMC,EAAUxB,IAGVhB,GAFUyC,cAEFC,cAAY1C,OA+B1B,OA7BA2C,qBAAU,WAWR,OAVA,sBAAC,4BAAAC,EAAA,+EAEwBlD,IAAaK,iBAAiBC,EAAO,UAF7D,OAGyB,OADhB6C,EAFT,QAGcC,SACTC,QAAQC,IAAIH,EAAOI,MACnBV,EAAQM,EAAOI,KAAKC,UALzB,sGAAD,GAUO,eACN,IAkBD,qCACE,cAAC,IAAD,CAAYC,QAAQ,KAAKC,MAAM,SAA/B,SACGpD,IAEH,qBACEqD,UAAU,YACVC,MAAO,CAAEC,SAAU,WAAYC,KAAM,SAFvC,SAIGlB,GACCA,EAAKmB,KAAI,SAACC,GAAD,OACP,qBAAKL,UAAWb,EAAQtB,WAAxB,SACE,gCACE,eAAC,IAAD,CAAMyC,GAAE,6BAAwBD,EAAKE,KAArC,UACE,qBAAKP,UAAWb,EAAQpB,UAAxB,SACE,qBACED,OAAO,OACPe,MAAM,OACN2B,KAjCFC,EAiCgBJ,EAAKK,MAhCtBC,YACbF,GAAgBG,IAASC,UACzB,IACA,KACA,GACA,IA4BgBC,IAAI,OAGR,mBAAGd,UAAWb,EAAQhB,MAAtB,SACE,uCAAUkC,EAAKU,UAEjB,0BAEF,qBAAKf,UAAWb,EAAQV,UAAxB,SACE,sBAAMuB,UAAWb,EAAQX,SAAzB,SAAoC6B,EAAKW,qBA3CxC,IAACP","file":"static/js/44.afdeaddd.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst URL = `/api/listening`;\r\n\r\nconst listeningApi = {\r\n  getListening: (id) => {\r\n    return axios.get(`${URL}/get-listening/${id}`);\r\n  },\r\n\r\n  getListenByTopic: (topic, type) => {\r\n    return axios.get(`${URL}/get-listen-by-topic`, {params: {topic, type}})\r\n  },\r\n\r\n  getListenById: (id) => {\r\n    return axios.get(`${URL}/get-listen-by-id/${id}`)\r\n  },\r\n\r\n  getListenTopics: (topic, type) => {\r\n    return axios.get(`${URL}/get-listen-topics`,{params: { topic, type}})\r\n  },\r\n\r\n  getAllListen: (type) => {\r\n    return axios.get(`${URL}/get-all-listen`, {params: {type}})\r\n  },\r\n\r\n  searchListen: (name) => {\r\n    return axios.get(`${URL}/search-listen`, {params: {name}})\r\n  },\r\n\r\n  postListen: (formData) => {\r\n    return axios.post(`${URL}/post-listen`, {...formData},\r\n    {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    })\r\n  },\r\n\r\n  putListen: (id, formData) => {\r\n    return axios.put(`${URL}/put-listen/${id}`, { ...formData},\r\n    {\r\n      params: { id },\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    });\r\n  },\r\n\r\n  deleteListen: (id) => {\r\n    return axios.delete(`${URL}/delete-listen/${id}`)\r\n  },\r\n}\r\n\r\nexport default listeningApi;\r\n","import useTitle from \"hooks/useTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport listeningApi from \"../apis/listeningApi\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { cloudinaryImgOptimize } from \"helper\";\r\nimport { DEFAULTS } from \"constants/index\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyle = makeStyles(() => ({\r\n  mobilelist: {\r\n    height: \"115px\",\r\n  },\r\n  floatleft: {\r\n    float: \"left\",\r\n    margin: \"0 10px 10px 0px\",\r\n    padding: \"2px\",\r\n  },\r\n  title: {\r\n    display: \"inline-block\",\r\n    fontSize: \"2.0rem\",\r\n    fontWeight: 400,\r\n    color: \"blue\",\r\n    margin: \"0.8rem 0rem 0rem 0\",\r\n    \"&:hover, &:focus\": {\r\n      color: \"#CCC\",\r\n    },\r\n  },\r\n  tldetail: {\r\n    fontSize: \"1.5rem\",\r\n    fontWeight: 400,\r\n    color: \"black\",\r\n  },\r\n  textlimit: {\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n    whiteSpace: \"nowrap\",\r\n    width: \"500px\",\r\n  },\r\n}));\r\n\r\nfunction ListeningByTopicPage() {\r\n  useTitle(\"Listening\");\r\n  const [list, setList] = useState([]);\r\n  const classes = useStyle();\r\n  const history = useHistory();\r\n\r\n  const topic = useParams().topic;\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      try {\r\n        const apiRes = await listeningApi.getListenByTopic(topic, \"Newest\");\r\n        if (apiRes.status === 200) {\r\n          console.log(apiRes.data);\r\n          setList(apiRes.data.listens);\r\n        }\r\n      } catch (error) {}\r\n    })();\r\n\r\n    return () => {};\r\n  }, []);\r\n\r\n  const getImage = (image) => {\r\n    const imgSrc = cloudinaryImgOptimize(\r\n      image ? image : DEFAULTS.IMAGE_SRC,\r\n      200,\r\n      200,\r\n      true,\r\n      true\r\n    );\r\n    return imgSrc;\r\n  };\r\n\r\n  const viewDetail = (id) => {\r\n    history.push(`/listening/details/${id}`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\" align=\"center\">\r\n        {topic}\r\n      </Typography>\r\n      <div\r\n        className=\"container\"\r\n        style={{ position: \"relative\", left: \"250px\" }}\r\n      >\r\n        {list &&\r\n          list.map((item) => (\r\n            <div className={classes.mobilelist}>\r\n              <div>\r\n                <Link to={`/listening/details/${item._id}`}>\r\n                  <div className={classes.floatleft}>\r\n                    <img\r\n                      height=\"80px\"\r\n                      width=\"80px\"\r\n                      src={getImage(item.Image)}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                  <p className={classes.title}>\r\n                    <strong> {item.Name}</strong>\r\n                  </p>\r\n                  <br></br>\r\n                </Link>\r\n                <div className={classes.textlimit}>\r\n                  <span className={classes.tldetail}>{item.Description}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ListeningByTopicPage;\r\n"],"sourceRoot":""}