(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[17],{507:function(e,t,n){"use strict";var a=n(3),r=n(11),c=n(4),i=n(270),o=n(439),s=n(488),l=n(450),d=n(0),u=n(477),b=Object(u.a)((function(){return{root:{backgroundColor:"var(--bg-color-accent)",color:"var(--text-color)",borderRadius:"var(--border-radius)","& .Mui-error .MuiSelect-root":{borderColor:"var(--error-color) !important"}},label:{color:"var(--label-color)",fontSize:"1.5rem"},labelFocus:{color:"var(--secondary-color) !important"},selectRoot:{color:"var(--text-color)",fontSize:"1.6rem",borderRadius:"var(--border-radius) !important",border:"solid 1px var(--border-color)",backgroundColor:"var(--bg-color-accent) !important"},selectIcon:{color:"var(--label-color)"},selectMenu:{backgroundColor:"var(--bg-color-accent)",maxHeight:"25rem","& .MuiMenuItem-root":{fontSize:"1.5rem",padding:"1rem 1.6rem","&:hover, &:active, &.Mui-selected":{backgroundColor:"var(--hover-color)"}}}}})),j=n(2),m=["label","options","className","error","resetFlag","index","onChange"];function p(e){var t,n=e.label,u=e.options,p=e.className,f=e.error,x=e.resetFlag,v=e.index,g=e.onChange,O=Object(c.a)(e,m),h=Object(d.useState)(null===(t=u[v])||void 0===t?void 0:t.value),w=Object(r.a)(h,2),y=w[0],S=w[1],N=b();return Object(d.useEffect)((function(){var e;x&&S(null===(e=u[0])||void 0===e?void 0:e.value)}),[x]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(i.a,{className:"".concat(N.root," ").concat(p),variant:"filled",children:[Object(j.jsx)(o.a,{classes:{root:N.label,focused:N.labelFocus},id:n,children:n}),Object(j.jsx)(l.a,Object(a.a)(Object(a.a)({classes:{root:N.selectRoot,icon:N.selectIcon},MenuProps:{classes:{paper:N.selectMenu}},disableUnderline:!0,error:f,labelId:n,label:n,value:y,onChange:function(e){S(e.target.value),g(e)}},O),{},{children:u&&u.map((function(e,t){return Object(j.jsx)(s.a,{value:e.value,children:e.label},t)}))}))]})})}p.defaultProps={className:"",label:"Label",options:[],error:!1,resetFlag:0,onChange:function(){}};t.a=p},508:function(e,t,n){"use strict";var a=n(26),r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),i=(0,a(n(35)).default)(c.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=i},511:function(e,t,n){"use strict";var a=n(26),r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),i=(0,a(n(35)).default)(c.createElement("path",{d:"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft");t.default=i},513:function(e,t,n){"use strict";var a=n(3),r=n(29),c=n.n(r),i="/api/listening",o={getListening:function(e){return c.a.get("".concat(i,"/get-listening/").concat(e))},getListenByTopic:function(e,t){return c.a.get("".concat(i,"/get-listen-by-topic"),{params:{topic:e,type:t}})},getListenById:function(e){return c.a.get("".concat(i,"/get-listen-by-id/").concat(e))},getListenTopics:function(e,t){return c.a.get("".concat(i,"/get-listen-topics"),{params:{topic:e,type:t}})},getAllListen:function(e){return c.a.get("".concat(i,"/get-all-listen"),{params:{type:e}})},searchListen:function(e){return c.a.get("".concat(i,"/search-listen"),{params:{name:e}})},postListen:function(e){return c.a.post("".concat(i,"/post-listen"),Object(a.a)({},e),{header:{"content-type":"multipart/form-data"}})},putListen:function(e,t){return c.a.put("".concat(i,"/put-listen/").concat(e),Object(a.a)({},t),{params:{id:e},header:{"content-type":"multipart/form-data"}})},deleteListen:function(e){return c.a.delete("".concat(i,"/delete-listen/").concat(e))}};t.a=o},514:function(e,t,n){"use strict";var a=n(3),r=n(4),c=n(11),i=n(484),o=n(0),s=n(2),l=["children"];t.a=function(e){var t=Object(o.useState)(!1),n=Object(c.a)(t,2),d=n[0],u=n[1],b=Object(o.useState)(-1),j=Object(c.a)(b,2),m=j[0],p=j[1],f=e.children,x=Object(r.a)(e,l);return Object(o.useEffect)((function(){var e=!0;return document.body.offsetWidth>576?e&&p(!0):e&&p(!1),function(){return e=!1}}),[]),Object(s.jsx)(s.Fragment,{children:-1!==m&&Object(s.jsx)(s.Fragment,{children:m?Object(s.jsx)(i.a,Object(a.a)(Object(a.a)({},x),{},{children:f})):Object(s.jsx)(i.a,Object(a.a)(Object(a.a)({},x),{},{open:d,onClick:function(){return u(!d)},children:f}))})})}},517:function(e,t,n){"use strict";var a=n(4),r=n(1),c=n(0),i=(n(7),n(5)),o=n(8),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=c.forwardRef((function(e,t){var n=e.alignContent,o=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,d=e.classes,u=e.className,b=e.component,j=void 0===b?"div":b,m=e.container,p=void 0!==m&&m,f=e.direction,x=void 0===f?"row":f,v=e.item,g=void 0!==v&&v,O=e.justify,h=e.justifyContent,w=void 0===h?"flex-start":h,y=e.lg,S=void 0!==y&&y,N=e.md,C=void 0!==N&&N,k=e.sm,z=void 0!==k&&k,I=e.spacing,L=void 0===I?0:I,M=e.wrap,V=void 0===M?"wrap":M,W=e.xl,F=void 0!==W&&W,D=e.xs,B=void 0!==D&&D,P=e.zeroMinWidth,R=void 0!==P&&P,T=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),E=Object(i.a)(d.root,u,p&&[d.container,0!==L&&d["spacing-xs-".concat(String(L))]],g&&d.item,R&&d.zeroMinWidth,"row"!==x&&d["direction-xs-".concat(String(x))],"wrap"!==V&&d["wrap-xs-".concat(String(V))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==o&&d["align-content-xs-".concat(String(o))],"flex-start"!==(O||w)&&d["justify-content-xs-".concat(String(O||w))],!1!==B&&d["grid-xs-".concat(String(B))],!1!==z&&d["grid-sm-".concat(String(z))],!1!==C&&d["grid-md-".concat(String(C))],!1!==S&&d["grid-lg-".concat(String(S))],!1!==F&&d["grid-xl-".concat(String(F))]);return c.createElement(j,Object(r.a)({className:E,ref:t},T))})),b=Object(o.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.a=b},519:function(e,t,n){"use strict";var a=n(26),r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),i=(0,a(n(35)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=i},557:function(e,t,n){"use strict";var a=n(477);t.a=Object(a.a)((function(){return{root:{padding:"2.8rem 3.6rem",boxShadow:"var(--box-shadow)",borderRadius:"var(--border-radius)",backgroundColor:"var(--bg-color-sec)"},title:{color:"var(--title-color)",textTransform:"capitalize",fontSize:"2.8rem",marginBottom:"1.2rem"},grid:{marginTop:"2.4rem",marginBottom:"2.4rem"},tooltipIcon:{fontSize:"1.6rem",color:"var(--label-color)"},btn:{marginLeft:"1rem",textTransform:"none",minWidth:"14rem"},btnReset:{borderColor:"var(--accent-color) !important",color:"var(--accent-color) !important","&:hover, &:active":{filter:"brightness(0.85)"}},sentenceInput:{minHeight:"8rem"}}}))},580:function(e,t,n){"use strict";var a=n(519),r=n.n(a),c=n(514),i=(n(0),n(557)),o=n(2);t.a=function(e){var t=e.title,n=Object(i.a)();return Object(o.jsx)(c.a,{title:t,className:"cur-help",children:Object(o.jsx)(r.a,{className:n.tooltipIcon})})}},724:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(16),c=n.n(r),i=n(3),o=n(4),s=n(27),l=n(11),d=n(513),u=n(19),b=n(177),j=n(492),m=n(517),p=n(175),f=n.n(p),x=n(511),v=n.n(x),g=n(508),O=n.n(g),h=n(143),w=n(507),y=n(558),S=n(65),N=n(93),C=n(580),k=n(557),z=n(575),I=n(716),L=n(693),M=n(22),V=n(48),W=n(2),F=["children","value","index"],D=N.b().shape({Name:N.d().trim().required("Input value"),Description:N.d().required("Input value"),Topic:N.d().required("Select one").oneOf(y.a.map((function(e){return e.value}))),LinkVideo:N.d(),Script:N.d()});function B(e){var t=e.children,n=e.value,a=e.index,r=Object(o.a)(e,F);return Object(W.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(W.jsx)(z.a,{sx:{p:3},children:Object(W.jsx)(m.a,{children:t})})}))}function P(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function R(e){var t,n,r,c,o,s=e.onSubmitForm,d=e.submitting,p=Object(k.a)(),x=Object(a.useState)(0),g=Object(l.a)(x,2),N=g[0],F=(g[1],Object(a.useState)(1)),R=Object(l.a)(F,2),T=R[0],E=R[1],_=Object(S.d)({resolver:Object(b.a)(D)}),U=_.register,H=_.handleSubmit,A=_.formState.errors,G=Object(u.b)(),q=Object(M.f)(),J="https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png",$=Object(a.useState)(J),K=Object(l.a)($,2),Q=K[0],X=K[1],Y=Object(a.useState)(null),Z=Object(l.a)(Y,2),ee=Z[0],te=Z[1],ne=function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))};return Object(W.jsxs)("div",{children:[Object(W.jsx)("h1",{className:p.title,children:"Creat new listening in system"}),Object(W.jsx)("div",{className:"dyno-break"}),Object(W.jsxs)("form",{onSubmit:H((function(e){s(Object(i.a)(Object(i.a)({},e),{},{VidUpload:ee,Image:Q}))})),autoComplete:"off",children:[Object(W.jsx)(m.a,{container:!0,alignContent:"center",children:Object(W.jsxs)("div",{className:p.avtWrap,children:[Object(W.jsx)("img",{src:Q||J,alt:"",className:"".concat(p.avt," w-100 h-100")}),Object(W.jsx)("div",{className:"".concat(p.cameraIconWrap," flex-center"),children:Object(W.jsx)("input",{type:"file",className:p.fileInput,onChange:function(e){e.preventDefault();try{var t=e.target.files[0];t||G(Object(V.b)("No files were uploaded","error")),t.size/Math.pow(1024,2)>2&&G(Object(V.b)("Size too large","error")),ne(t).then((function(e){X(e)}))}catch(n){throw n}},accept:"image/*"})})]})}),Object(W.jsxs)(m.a,{className:p.grid,container:!0,spacing:3,children:[Object(W.jsxs)(m.a,{item:!0,xs:12,md:6,lg:4,children:[Object(W.jsx)(h.a,{className:"w-100",label:"Name (*)",error:Boolean(A.Name),inputProps:Object(i.a)({autoFocus:!0,name:"Name"},U("Name"))}),A.Name&&Object(W.jsx)("p",{className:"text-error",children:null===(t=A.Name)||void 0===t?void 0:t.message})]}),Object(W.jsxs)(m.a,{item:!0,xs:12,md:6,lg:4,children:[Object(W.jsx)(h.a,{className:"w-100",label:"Description (*)",error:Boolean(A.Description),inputProps:Object(i.a)({name:"Description"},U("Description"))}),A.Description&&Object(W.jsx)("p",{className:"text-error",children:null===(n=A.Description)||void 0===n?void 0:n.message})]}),Object(W.jsxs)(m.a,{item:!0,xs:12,md:6,lg:4,children:[Object(W.jsx)(w.a,{className:"w-100",label:"Topic (*)",options:y.a,error:Boolean(A.Topic),resetFlag:N,index:0,inputProps:Object(i.a)({name:"Topic"},U("Topic"))}),A.type&&Object(W.jsx)("p",{className:"text-error",children:null===(r=A.Topic)||void 0===r?void 0:r.message})]}),Object(W.jsxs)(z.a,{sx:{width:"50%"},children:[Object(W.jsx)(z.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(W.jsxs)(I.a,{value:T,onChange:function(e,t){E(t)},"aria-label":"basic tabs example",indicatorColor:"primary",children:[Object(W.jsx)(L.a,Object(i.a)({label:"Upload"},P(0))),Object(W.jsx)(L.a,Object(i.a)({label:"Link"},P(1)))]})}),Object(W.jsx)(B,{value:T,index:0,children:Object(W.jsx)(m.a,{item:!0,xs:6,children:Object(W.jsx)(m.a,{container:!0,alignContent:"center",children:Object(W.jsx)("div",{className:p.avtWrap,children:Object(W.jsx)("div",{className:"".concat(p.cameraIconWrap," flex-center"),children:Object(W.jsx)("input",{type:"file",className:p.fileInput,onChange:function(e){e.preventDefault();try{var t=e.target.files[0];t||G(Object(V.b)("No files were uploaded","error")),t.size/Math.pow(1024,2)>2&&G(Object(V.b)("Size too large","error")),ne(t).then((function(e){te(e)}))}catch(n){throw n}},accept:"video/*"})})})})})}),Object(W.jsx)(B,{value:T,index:1,children:Object(W.jsxs)(m.a,{item:!0,xs:6,children:[Object(W.jsx)(h.a,{className:"w-100",label:"Link Video",multiline:!0,endAdornment:Object(W.jsx)(C.a,{title:"Input link youtube"}),inputProps:Object(i.a)({name:"LinkVideo"},U("LinkVideo"))}),A.Video&&Object(W.jsx)("p",{className:"text-error",children:null===(c=A.Video)||void 0===c?void 0:c.message})]})})]}),Object(W.jsxs)(m.a,{item:!0,xs:12,children:[Object(W.jsx)(h.a,{className:"w-100",label:"Script",multiline:!0,endAdornment:Object(W.jsx)(C.a,{title:"Input script for listening"}),error:Boolean(A.Script),inputProps:Object(i.a)({name:"Script"},U("Script"))}),A.Script&&Object(W.jsx)("p",{className:"text-error",children:null===(o=A.Script)||void 0===o?void 0:o.message})]})]}),Object(W.jsx)("div",{className:"dyno-break"}),Object(W.jsxs)("div",{className:"d-flex flex-end jus-content-end pt-5 w-100",children:[Object(W.jsx)(j.a,{className:"".concat(p.btn," ").concat(p.btnReset),color:"secondary",endIcon:Object(W.jsx)(v.a,{}),variant:"outlined",disabled:d,onClick:function(){return q.push("/admin/listening")},children:"Return"}),Object(W.jsx)(j.a,{type:"submit",className:"".concat(p.btn," _btn _btn-primary"),disabled:d,endIcon:d?Object(W.jsx)(f.a,{className:"ani-spin"}):Object(W.jsx)(O.a,{}),variant:"contained",children:"Create"})]})]})]})}R.defaultProps={onSubmitForm:function(){},submitting:!1};var T=R,E=["VidUpload","LinkVideo"],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e||""===e)return null;var t=e.includes("https://www.youtube.com");return t||(t=e.includes("youtu.be/"))?e:null};var U=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],b=Object(u.b)(),j=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a,s,l,u,j,m,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r(!0),n=t.VidUpload,a=t.LinkVideo,s=Object(o.a)(t,E),l=[],console.log(t),null!=n){e.next=14;break}if(null!=(u=_(a))){e.next=11;break}return b(Object(V.b)("Link video is invalid.","warning")),r(!1),e.abrupt("return");case 11:l=Object(i.a)(Object(i.a)({},s),{},{Video:u}),e.next=15;break;case 14:l=Object(i.a)(Object(i.a)({},s),{},{Video:n});case 15:return e.next=17,d.a.postListen(l);case 17:j=e.sent,console.log(j.data),200===j.status&&(b(Object(V.b)("Created listening successfully","success")),r(!1)),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(0),f=(null===(m=e.t0.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.message)||"Error, can not create listening.",b(Object(V.b)(f,"error")),r(!1);case 27:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsx)(T,{onSubmitForm:j,submitting:n})},H=n(477),A=Object(H.a)((function(){return{root:{margin:"3.2rem 0"}}}));t.default=function(){var e=A();return Object(W.jsx)("div",{className:"container",children:Object(W.jsx)("div",{className:e.root,children:Object(W.jsx)("div",{className:"ani-fade",children:Object(W.jsx)(U,{})})})})}}}]);
//# sourceMappingURL=17.a8416dbd.chunk.js.map