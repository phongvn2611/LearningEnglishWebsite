(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[22],{517:function(e,t,a){"use strict";var n=a(3),r=a(11),c=a(4),o=a(280),i=a(449),l=a(499),s=a(460),u=a(0),d=a(488),b=Object(d.a)((function(){return{root:{backgroundColor:"var(--bg-color-accent)",color:"var(--text-color)",borderRadius:"var(--border-radius)","& .Mui-error .MuiSelect-root":{borderColor:"var(--error-color) !important"}},label:{color:"var(--label-color)",fontSize:"1.5rem"},labelFocus:{color:"var(--secondary-color) !important"},selectRoot:{color:"var(--text-color)",fontSize:"1.6rem",borderRadius:"var(--border-radius) !important",border:"solid 1px var(--border-color)",backgroundColor:"var(--bg-color-accent) !important"},selectIcon:{color:"var(--label-color)"},selectMenu:{backgroundColor:"var(--bg-color-accent)",maxHeight:"25rem","& .MuiMenuItem-root":{fontSize:"1.5rem",padding:"1rem 1.6rem","&:hover, &:active, &.Mui-selected":{backgroundColor:"var(--hover-color)"}}}}})),j=a(1),m=["label","options","className","error","resetFlag","index","onChange"];function p(e){var t,a=e.label,d=e.options,p=e.className,v=e.error,f=e.resetFlag,O=e.index,h=e.onChange,g=Object(c.a)(e,m),x=Object(u.useState)(null===(t=d[O])||void 0===t?void 0:t.value),N=Object(r.a)(x,2),y=N[0],S=N[1],k=b();return Object(u.useEffect)((function(){var e;f&&S(null===(e=d[0])||void 0===e?void 0:e.value)}),[f]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(o.a,{className:"".concat(k.root," ").concat(p),variant:"filled",children:[Object(j.jsx)(i.a,{classes:{root:k.label,focused:k.labelFocus},id:a,children:a}),Object(j.jsx)(s.a,Object(n.a)(Object(n.a)({classes:{root:k.selectRoot,icon:k.selectIcon},MenuProps:{classes:{paper:k.selectMenu}},disableUnderline:!0,error:v,labelId:a,label:a,value:y,onChange:function(e){S(e.target.value),h(e)}},g),{},{children:d&&d.map((function(e,t){return Object(j.jsx)(l.a,{value:e.value,children:e.label},t)}))}))]})})}p.defaultProps={className:"",label:"Label",options:[],error:!1,resetFlag:0,onChange:function(){}};t.a=p},518:function(e,t,a){"use strict";var n=a(26),r=a(35);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(34)).default)(c.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},519:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(11),o=a(495),i=a(0),l=a(1),s=["children"];t.a=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),u=a[0],d=a[1],b=Object(i.useState)(-1),j=Object(c.a)(b,2),m=j[0],p=j[1],v=e.children,f=Object(r.a)(e,s);return Object(i.useEffect)((function(){var e=!0;return document.body.offsetWidth>576?e&&p(!0):e&&p(!1),function(){return e=!1}}),[]),Object(l.jsx)(l.Fragment,{children:-1!==m&&Object(l.jsx)(l.Fragment,{children:m?Object(l.jsx)(o.a,Object(n.a)(Object(n.a)({},f),{},{children:v})):Object(l.jsx)(o.a,Object(n.a)(Object(n.a)({},f),{},{open:u,onClick:function(){return d(!u)},children:v}))})})}},524:function(e,t,a){"use strict";var n=a(3),r=a(28),c=a.n(r),o="/api/listening",i={getListening:function(e){return c.a.get("".concat(o,"/get-listening/").concat(e))},getListenByTopic:function(e,t){return c.a.get("".concat(o,"/get-listen-by-topic"),{params:{topic:e,type:t}})},getListenById:function(e){return c.a.get("".concat(o,"/get-listen-by-id/").concat(e))},getListenTopics:function(e,t){return c.a.get("".concat(o,"/get-listen-topics"),{params:{topic:e,type:t}})},getAllListen:function(e){return c.a.get("".concat(o,"/get-all-listen"),{params:{type:e}})},searchListen:function(e){return c.a.get("".concat(o,"/search-listen"),{params:{name:e}})},postListen:function(e){return c.a.post("".concat(o,"/post-listen"),Object(n.a)({},e),{header:{"content-type":"multipart/form-data"}})},putListen:function(e,t){return c.a.put("".concat(o,"/put-listen/").concat(e),Object(n.a)({},t),{params:{id:e},header:{"content-type":"multipart/form-data"}})},deleteListen:function(e){return c.a.patch("".concat(o,"/delete-listen/").concat(e))}};t.a=i},525:function(e,t,a){"use strict";var n=a(26),r=a(35);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(34)).default)(c.createElement("path",{d:"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft");t.default=o},534:function(e,t,a){"use strict";var n=a(26),r=a(35);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(34)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=o},542:function(e,t,a){"use strict";var n=a(0),r=a(564),c=a.n(r),o=a(1),i={buttons:["source","|","bold","strikethrough","underline","italic","|","ul","ol","|","outdent","indent","|","font","fontsize","brush","paragraph","|","image","video","table","link","|","align","undo","redo","|","hr","eraser","copyformat","|","symbol","fullsize","print","about"]};t.a=function(e){var t=e.initialValue,a=e.getValue,r=Object(n.useRef)(null);return Object(o.jsx)(c.a,{ref:r,value:t,config:i,tabIndex:1,onChange:function(e){return a(e)}})}},581:function(e,t,a){"use strict";var n=a(488);t.a=Object(n.a)((function(){return{root:{padding:"2.8rem 3.6rem",boxShadow:"var(--box-shadow)",borderRadius:"var(--border-radius)",backgroundColor:"var(--bg-color-sec)"},title:{color:"var(--title-color)",textTransform:"capitalize",fontSize:"2.8rem",marginBottom:"1.2rem"},grid:{marginTop:"2.4rem",marginBottom:"2.4rem"},tooltipIcon:{fontSize:"1.6rem",color:"var(--label-color)"},btn:{marginLeft:"1rem",textTransform:"none",minWidth:"14rem"},btnReset:{borderColor:"var(--accent-color) !important",color:"var(--accent-color) !important","&:hover, &:active":{filter:"brightness(0.85)"}},sentenceInput:{minHeight:"8rem"}}}))},608:function(e,t,a){"use strict";var n=a(534),r=a.n(n),c=a(519),o=(a(0),a(581)),i=a(1);t.a=function(e){var t=e.title,a=Object(o.a)();return Object(i.jsx)(c.a,{title:t,className:"cur-help",children:Object(i.jsx)(r.a,{className:a.tooltipIcon})})}},765:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(10),c=a(16),o=a.n(c),i=a(27),l=a(11),s=a(3),u=a(4),d=a(180),b=a(503),j=a(520),m=a(178),p=a.n(m),v=a(525),f=a.n(v),O=a(518),h=a.n(O),g=a(524),x=a(145),N=a(517),y=a(583),S=a(64),k=a(48),C=a(94),w=a(608),I=a(488),L=Object(I.a)((function(){return{root:{padding:"2.8rem 3.6rem",boxShadow:"var(--box-shadow)",borderRadius:"var(--border-radius)",backgroundColor:"var(--bg-color-sec)"},title:{color:"var(--title-color)",textTransform:"capitalize",fontSize:"2.8rem",marginBottom:"1.2rem"},grid:{marginTop:"2.4rem",marginBottom:"2.4rem"},tooltipIcon:{fontSize:"1.6rem",color:"var(--label-color)"},btn:{marginLeft:"1rem",textTransform:"none",minWidth:"14rem"},btnReset:{borderColor:"var(--accent-color) !important",color:"var(--accent-color) !important","&:hover, &:active":{filter:"brightness(0.85)"}},sentenceInput:{minHeight:"8rem"}}})),z=a(20),V=a(29),T=a(56),M=a(602),D=a(753),B=a(726),R=a(19),E=a(542),P=a(1),_=["children","value","index"],F=C.b().shape({Name:C.d().trim().required("Input value"),Description:C.d().required("Input value"),Topic:C.d().required("Select one").oneOf(y.a.map((function(e){return e.value}))),LinkVideo:C.d(),Script:C.d()}),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e||""===e)return null;if(e.includes("embed"))return e;var t=e.includes("https://www.youtube.com");return t||(t=e.includes("youtu.be/"))?e:null},H=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0;a<t.length;a++)if(t[a].value===e)return a;return 0};function q(e){var t=e.children,a=e.value,n=e.index,r=Object(u.a)(e,_);return Object(P.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(P.jsx)(M.a,{sx:{p:3},children:Object(P.jsx)(j.a,{children:t})})}))}function A(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function U(){var e,t,a,c;Object(T.a)("Edit Listening");var u=L(),m=Object(n.useState)(1),v=Object(l.a)(m,2),O=v[0],C=v[1],I=Object(n.useState)(!1),_=Object(l.a)(I,2),U=_[0],J=_[1],G="https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png",K=Object(z.g)(),Q=Object(S.d)({resolver:Object(d.a)(F)}),X=Q.register,Y=Q.handleSubmit,Z=Q.formState.errors,$=Object(R.b)(),ee=Object(n.useState)(null),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(G),ce=Object(l.a)(re,2),oe=ce[0],ie=ce[1],le=Object(n.useState)(null),se=Object(l.a)(le,2),ue=se[0],de=se[1],be=Object(n.useState)(""),je=Object(l.a)(be,2),me=je[0],pe=je[1],ve=Object(n.useState)(""),fe=Object(l.a)(ve,2),Oe=fe[0],he=fe[1],ge=Object(z.i)().id;Object(n.useEffect)((function(){return Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.getListenById(ge);case 2:t=e.sent,ne(t.data.listen),t.data.listen.Video.includes("youtube")&&pe(t.data.listen.Video),he(t.data.listen.Script),ie(t.data.listen.Image);case 7:case"end":return e.stop()}}),e)})))(),function(){}}),[ge]);var xe=function(e){var t=e.target,a=t.name,n=t.value;ne(Object(s.a)(Object(s.a)({},ae),{},Object(r.a)({},a,n))),"LinkVideo"===a&&pe(n)},Ne=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,r,c,i,l,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,J(!0),t=ae.Name,a=ae.Topic,n=ae.Description,r=ae.Video,!ue||!me||""==me.trim()){e.next=7;break}return $(Object(k.b)("Ch\u1ecdn m\u1ed9t trong hai t\xf9y ch\u1ecdn \u0111\u1ec3 th\xeam video","warning")),J(!1),e.abrupt("return");case 7:if(c=[],i=null,null!=ue){e.next=25;break}if(console.log(ue),console.log(me),null!=me&&""!==me.trim()){e.next=16;break}i=r,e.next=21;break;case 16:if(null!=(i=W(me))){e.next=21;break}return $(Object(k.b)("Link video is invalid.","warning")),J(!1),e.abrupt("return");case 21:console.log(i),c={Name:t,Topic:a,Description:n,Script:Oe,Image:oe,Video:i},e.next=26;break;case 25:c={Name:t,Topic:a,Description:n,Script:Oe,Image:oe,Video:ue};case 26:return console.log(c),e.next=29,g.a.putListen(ae._id,c);case 29:l=e.sent,console.log(l.data),200===l.status&&($(Object(k.b)("Update listening successfully","success")),J(!1)),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(0),d=(null===(s=e.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.message)||"Error, can not create listening.",$(Object(k.b)(d,"error")),J(!1);case 39:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{className:u.title,children:"S\u1eeda b\xe0i nghe"}),Object(P.jsx)("div",{className:"english-break"}),ae&&Object(P.jsxs)("form",{onSubmit:Y(Ne),autoComplete:"off",children:[Object(P.jsx)(j.a,{container:!0,alignContent:"center",children:Object(P.jsxs)("div",{className:u.avtWrap,children:[Object(P.jsx)("img",{src:oe||G,alt:"",className:"".concat(u.avt," w-100 h-100")}),Object(P.jsx)("div",{className:"".concat(u.cameraIconWrap," flex-center"),children:Object(P.jsx)("input",{type:"file",className:u.fileInput,onChange:function(e){e.preventDefault();try{var t=e.target.files[0];t||$(Object(k.b)("No files were uploaded","error")),t.size/Math.pow(1024,2)>2&&$(Object(k.b)("Size too large","error")),Object(V.b)(t).then((function(e){ie(e)}))}catch(a){throw a}},accept:"image/*"})})]})}),Object(P.jsxs)(j.a,{className:u.grid,container:!0,spacing:3,children:[Object(P.jsxs)(j.a,{item:!0,xs:12,md:6,lg:4,children:[Object(P.jsx)(x.a,{className:"w-100",label:"Name",value:ae.Name,error:Boolean(Z.Name),inputProps:Object(s.a)({name:"Name"},X("Name")),onChange:xe}),Z.Name&&Object(P.jsx)("p",{className:"text-error",children:null===(e=Z.Name)||void 0===e?void 0:e.message})]}),Object(P.jsxs)(j.a,{item:!0,xs:12,md:6,lg:4,children:[Object(P.jsx)(x.a,{className:"w-100",label:"Description",value:ae.Description,error:Boolean(Z.Description),inputProps:Object(s.a)({name:"Description"},X("Description")),onChange:xe}),Z.Description&&Object(P.jsx)("p",{className:"text-error",children:null===(t=Z.Description)||void 0===t?void 0:t.message})]}),Object(P.jsxs)(j.a,{item:!0,xs:12,md:6,lg:4,children:[Object(P.jsx)(N.a,{className:"w-100",label:"Topic (*)",options:y.a,error:Boolean(Z.LISTEN_TOPIC),index:H(ae.Topic,y.a),inputProps:Object(s.a)({name:"Topic"},X("Topic")),onChange:xe}),Z.Topic&&Object(P.jsx)("p",{className:"text-error",children:null===(a=Z.Topic)||void 0===a?void 0:a.message})]}),Object(P.jsxs)(M.a,{sx:{width:"100%"},children:[Object(P.jsx)(M.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(P.jsxs)(D.a,{value:O,onChange:function(e,t){C(t)},"aria-label":"basic tabs example",indicatorColor:"primary",children:[Object(P.jsx)(B.a,Object(s.a)({label:"Upload"},A(0))),Object(P.jsx)(B.a,Object(s.a)({label:"Link"},A(1)))]})}),Object(P.jsx)(q,{value:O,index:0,children:Object(P.jsx)(j.a,{item:!0,xs:6,children:Object(P.jsx)(j.a,{container:!0,alignContent:"center",children:Object(P.jsx)("div",{className:u.avtWrap,children:Object(P.jsx)("div",{className:"".concat(u.cameraIconWrap," flex-center"),children:Object(P.jsx)("input",{type:"file",value:ae.Video.fileInput,className:u.fileInput,onChange:function(e){e.preventDefault();try{var t=e.target.files[0];t||$(Object(k.b)("No files were uploaded","error")),t.size/Math.pow(1024,2)>2&&$(Object(k.b)("Size too large","error")),Object(V.b)(t).then((function(e){de(e),console.log(e)}))}catch(a){throw a}},accept:"video/*"})})})})})}),Object(P.jsx)(q,{value:O,index:1,children:Object(P.jsxs)(j.a,{item:!0,xs:6,children:[Object(P.jsx)(x.a,{className:"w-100",label:"Link Video",multiline:!0,value:me,endAdornment:Object(P.jsx)(w.a,{title:"Input link youtube"}),inputProps:Object(s.a)({name:"LinkVideo"},X("LinkVideo")),onChange:xe}),Z.Video&&Object(P.jsx)("p",{className:"text-error",children:null===(c=Z.Video)||void 0===c?void 0:c.message})]})})]})]}),Object(P.jsx)("div",{className:"row",children:Object(P.jsxs)("div",{className:"col-md-6",style:{margin:"auto",marginTop:"50px"},children:[Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsx)("h3",{children:"Rich Text Editor"})}),Object(P.jsx)(E.a,{initialValue:Oe,getValue:function(e){he(e)}})]})}),Object(P.jsx)("div",{className:"english-break"}),Object(P.jsxs)("div",{className:"d-flex flex-end jus-content-end pt-5 w-100",children:[Object(P.jsx)(b.a,{className:"".concat(u.btn," ").concat(u.btnReset),color:"secondary",endIcon:Object(P.jsx)(f.a,{}),variant:"outlined",onClick:function(){K.push("/admin/listening")},children:"Back"}),Object(P.jsx)(b.a,{type:"submit",className:"".concat(u.btn," _btn _btn-primary"),disabled:U,endIcon:U?Object(P.jsx)(p.a,{className:"ani-spin"}):Object(P.jsx)(h.a,{}),variant:"contained",onClick:function(){return Ne()},children:"Edit"})]})]})]})}U.defaultProps={onSubmitForm:function(){},submitting:!1};var J=U,G=Object(I.a)((function(){return{root:{margin:"3.2rem 0"}}}));t.default=function(){var e=G();return Object(P.jsx)("div",{className:"container",children:Object(P.jsx)("div",{className:e.root,children:Object(P.jsx)("div",{className:"ani-fade",children:Object(P.jsx)(J,{})})})})}}}]);
//# sourceMappingURL=22.cbf86413.chunk.js.map