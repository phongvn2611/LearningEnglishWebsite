{"version":3,"sources":["components/WordAdmin/AddWord/index.js","components/WordAdmin/AddWord/data.js","pages/AddWord.js"],"names":["schema","yup","shape","word","trim","required","lowercase","max","MAX","WORD_LEN","mean","MEAN_WORD_LEN","phonetic","PHONETIC_LEN","type","oneOf","WORD_TYPES","map","i","value","level","WORD_LEVELS","specialty","WORD_SPECIALTY","examples","EXAMPLE_WORD_LEN","synonyms","SYNONYMS_WORD_LEN","antonyms","note","NOTE_WORD_LEN","ButtonWrapper","props","Grid","item","xs","md","lg","TagsWrapper","WordContribution","onSubmitForm","submitting","useTitle","classes","useStyle","dispatch","useDispatch","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","topics","useRef","history","useHistory","defaultImg","useState","image","setImage","className","title","onSubmit","data","current","picture","autoComplete","container","alignContent","avtWrap","src","alt","avt","cameraIconWrap","cameraIcon","fileInput","onChange","e","preventDefault","file","target","files","setMessage","size","reader","FileReader","readAsDataURL","Promise","resolve","onloadend","result","convertImageToBase64","then","res","err","accept","grid","spacing","InputCustom","label","error","Boolean","inputProps","autoFocus","maxLength","name","message","PhoneticInput","errorMessage","valuePhonetic","SelectCustom","options","index","multiline","endAdornment","InformationTooltip","TopicSelect","topicList","buttonTitle","buttonWrapper","tagsWrapper","Button","btn","btnReset","color","endIcon","variant","onClick","replace","disabled","defaultProps","analysisExample","exampleStr","exampleArr","split","str","toLocaleLowerCase","indexOf","WordContributionData","setSubmitting","a","rest","synonymArr","antonymArr","dataSend","replaceAll","wordApi","postWord","response","makeStyles","root","margin","AddWordPage"],"mappings":"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","file":"static/js/51.895fba4d.chunk.js","sourcesContent":["import { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LoopIcon from \"@material-ui/icons/Loop\";\r\nimport ResetIcon from \"@material-ui/icons/RotateLeft\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport wordApi from \"apis/wordApi\";\r\nimport InputCustom from \"components/UI/InputCustom\";\r\nimport SelectCustom from \"components/UI/SelectCustom\";\r\nimport TopicSelect from \"components/UI/TopicSelect\";\r\nimport {\r\n  MAX,\r\n  WORD_LEVELS,\r\n  WORD_SPECIALTY,\r\n  WORD_TYPES,\r\n} from \"./../../../constants\";\r\nimport PropTypes from \"prop-types\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { setMessage } from \"redux/actions/messageAction\";\r\nimport * as yup from \"yup\";\r\nimport InformationTooltip from \"./InformationTooltip\";\r\nimport PhoneticInput from \"./PhoneticInput\";\r\nimport useStyle from \"./style\";\r\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport useTitle from \"hooks/useTitle\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst schema = yup.object().shape({\r\n  word: yup\r\n    .string()\r\n    .trim()\r\n    .required(\"Hãy nhập một từ vào đây\")\r\n    .lowercase()\r\n    .max(MAX.WORD_LEN, `Từ dài tối đã ${MAX.WORD_LEN} ký tự`),\r\n  mean: yup\r\n    .string()\r\n    .trim()\r\n    .lowercase()\r\n    .required(\"Hãy nhập ý nghĩa từ\")\r\n    .max(MAX.MEAN_WORD_LEN, `Từ dài tối đã ${MAX.MEAN_WORD_LEN} ký tự`),\r\n  phonetic: yup\r\n    .string()\r\n    .trim()\r\n    .lowercase()\r\n    .required(\"Hãy nhập ký âm của từ\")\r\n    .max(MAX.PHONETIC_LEN, `Từ dài tối đã ${MAX.PHONETIC_LEN} ký tự`),\r\n  type: yup\r\n    .string()\r\n    .required(\"Chọn loại của từ\")\r\n    .oneOf(WORD_TYPES.map((i) => i.value)),\r\n  level: yup\r\n    .string()\r\n    .required(\"Chọn cấp bậc của từ\")\r\n    .oneOf(WORD_LEVELS.map((i) => i.value)),\r\n  specialty: yup\r\n    .string()\r\n    .required(\"Chọn cấp bậc của từ\")\r\n    .oneOf(WORD_SPECIALTY.map((i) => i.value)),\r\n  examples: yup\r\n    .string()\r\n    .max(MAX.EXAMPLE_WORD_LEN, `Ví dụ tối đa ${MAX.EXAMPLE_WORD_LEN} ký tự`),\r\n  synonyms: yup\r\n    .string()\r\n    .max(\r\n      MAX.SYNONYMS_WORD_LEN,\r\n      `Từ đồng nghĩa tối đa ${MAX.SYNONYMS_WORD_LEN} ký tự`\r\n    ),\r\n  antonyms: yup\r\n    .string()\r\n    .max(\r\n      MAX.SYNONYMS_WORD_LEN,\r\n      `Từ trái nghĩa tối đa ${MAX.SYNONYMS_WORD_LEN} ký tự`\r\n    ),\r\n  note: yup\r\n    .string()\r\n    .max(MAX.NOTE_WORD_LEN, `Ghi chú tối đa ${MAX.NOTE_WORD_LEN} ký tự`),\r\n});\r\n\r\n// Prevent unmount component topic select\r\nconst ButtonWrapper = (props) => <Grid {...props} item xs={12} md={6} lg={4} />;\r\nconst TagsWrapper = (props) => <Grid {...props} item xs={12} />;\r\n\r\nfunction WordContribution({ onSubmitForm, submitting }) {\r\n  useTitle(\"Add word\");\r\n\r\n  const classes = useStyle();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const topics = useRef([]);\r\n  const history = useHistory();\r\n  const defaultImg =\r\n  \"https://res.cloudinary.com/phongvn2611/image/upload/v1638368033/english/word/default-image_fbmbtn.png\";\r\n  const [image, setImage] = useState(defaultImg);\r\n\r\n  const convertImageToBase64 = (image) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(image);\r\n    return new Promise((resolve) => {\r\n      reader.onloadend = () => {\r\n        resolve(reader.result);\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleChangePicture = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const file = e.target.files[0];\r\n      if (!file) {\r\n        dispatch(setMessage(\"No files were uploaded\", \"error\"));\r\n      }\r\n      if (file.size / 1024 ** 2 > 2) {\r\n        dispatch(setMessage(\"Size too large\", \"error\"));\r\n      }\r\n      convertImageToBase64(file).then(res => {\r\n        setImage(res);\r\n      });\r\n      \r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    onSubmitForm({ ...data, topics: topics.current, picture: image });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className={classes.title}>Thêm từ mới</h1>\r\n      <div className=\"english-break\"></div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\r\n        <Grid container alignContent=\"center\">\r\n          <div className={classes.avtWrap}>\r\n            <img\r\n              src={image ? image : defaultImg}\r\n              alt=\"\"\r\n              className={`${classes.avt} w-100 h-100`}\r\n            />\r\n            <div className={`${classes.cameraIconWrap} flex-center`}>\r\n              <CameraIcon className={classes.cameraIcon} />\r\n              <input\r\n                type=\"file\"\r\n                className={classes.fileInput}\r\n                onChange={handleChangePicture}\r\n                accept=\"image/*\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n        <Grid className={classes.grid} container spacing={3}>\r\n          {/* new word */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <InputCustom\r\n              className=\"w-100\"\r\n              label=\"Từ mới (*)\"\r\n              error={Boolean(errors.word)}\r\n              inputProps={{\r\n                autoFocus: true,\r\n                maxLength: MAX.WORD_LEN,\r\n                name: \"word\",\r\n                ...register(\"word\"),\r\n              }}\r\n              // onChange={(e) => handleCheckWordExistence(e, null)}\r\n            />\r\n            {errors.word && (\r\n              <p className=\"text-error\">{errors.word?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* mean */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <InputCustom\r\n              className=\"w-100\"\r\n              label=\"Nghĩa của từ (*)\"\r\n              error={Boolean(errors.mean)}\r\n              inputProps={{\r\n                maxLength: MAX.MEAN_WORD_LEN,\r\n                name: \"mean\",\r\n                ...register(\"mean\"),\r\n              }}\r\n            />\r\n            {errors.mean && (\r\n              <p className=\"text-error\">{errors.mean?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* phonetic */}\r\n          <PhoneticInput\r\n            errorMessage={errors.phonetic?.message}\r\n            error={Boolean(errors.phonetic)}\r\n            valuePhonetic=\"\"\r\n            inputProps={{\r\n              maxLength: MAX.PHONETIC_LEN,\r\n              name: \"phonetic\",\r\n            }}\r\n            register={register(\"phonetic\")}\r\n          />\r\n\r\n          {/* word type */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <SelectCustom\r\n              className=\"w-100\"\r\n              label=\"Loại từ (*)\"\r\n              options={WORD_TYPES}\r\n              error={Boolean(errors.type)}\r\n              index={0}\r\n              inputProps={{\r\n                name: \"type\",\r\n                ...register(\"type\"),\r\n              }}\r\n              // onChange={(e) => handleCheckWordExistence(null, e)}\r\n            />\r\n            {errors.type && (\r\n              <p className=\"text-error\">{errors.type?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* word level */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <SelectCustom\r\n              className=\"w-100\"\r\n              label=\"Cấp bậc của từ (*)\"\r\n              options={WORD_LEVELS}\r\n              error={Boolean(errors.level)}\r\n              index={0}\r\n              inputProps={{ name: \"level\", ...register(\"level\") }}\r\n            />\r\n            {errors.level && (\r\n              <p className=\"text-error\">{errors.level?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* word specialty */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <SelectCustom\r\n              className=\"w-100\"\r\n              label=\"Thuộc chuyên ngành\"\r\n              options={WORD_SPECIALTY}\r\n              error={Boolean(errors.specialty)}\r\n              index={0}\r\n              inputProps={{\r\n                name: \"specialty\",\r\n                ...register(\"specialty\"),\r\n              }}\r\n            />\r\n            {errors.specialty && (\r\n              <p className=\"text-error\">{errors.specialty?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* examples */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <InputCustom\r\n              className=\"w-100\"\r\n              label=\"Câu ví dụ\"\r\n              multiline\r\n              endAdornment={\r\n                <InformationTooltip title=\"Thêm các câu ví dụ cho từ trên. Đảm bảo có sự xuất hiện của từ đó trong câu. Bạn có thể thêm nhiều câu bằng cách xuống dòng.\" />\r\n              }\r\n              error={Boolean(errors.examples)}\r\n              inputProps={{\r\n                name: \"examples\",\r\n                ...register(\"examples\"),\r\n              }}\r\n            />\r\n\r\n            {errors.examples && (\r\n              <p className=\"text-error\">{errors.examples?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* synonyms */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <InputCustom\r\n              className=\"w-100\"\r\n              label=\"Các từ đồng nghĩa\"\r\n              multiline\r\n              error={Boolean(errors.synonyms)}\r\n              inputProps={{\r\n                name: \"synonyms\",\r\n                ...register(\"synonyms\"),\r\n              }}\r\n            />\r\n            {errors.synonyms && (\r\n              <p className=\"text-error\">{errors.synonyms?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* antonyms */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <InputCustom\r\n              className=\"w-100\"\r\n              label=\"Các từ trái nghĩa\"\r\n              multiline\r\n              error={Boolean(errors.antonyms)}\r\n              inputProps={{\r\n                name: \"antonyms\",\r\n                ...register(\"antonyms\"),\r\n              }}\r\n            />\r\n            {errors.antonyms && (\r\n              <p className=\"text-error\">{errors.antonyms?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* note */}\r\n          <Grid item xs={12} md={6} lg={4}>\r\n            <InputCustom\r\n              className=\"w-100\"\r\n              label=\"Ghi chú\"\r\n              multiline\r\n              endAdornment={\r\n                <InformationTooltip title=\"Nhập thêm ghi chú mà bạn muốn cho từ. Thêm nhiều dòng bằng cách xuống dòng.\" />\r\n              }\r\n              error={Boolean(errors.note)}\r\n              inputProps={{\r\n                name: \"note\",\r\n                ...register(\"note\"),\r\n              }}\r\n            />\r\n            {errors.note && (\r\n              <p className=\"text-error\">{errors.note?.message}</p>\r\n            )}\r\n          </Grid>\r\n\r\n          <TopicSelect\r\n            onChange={(topicList) => (topics.current = topicList)}\r\n            buttonTitle=\"Thêm chủ đề\"\r\n            buttonWrapper={ButtonWrapper}\r\n            tagsWrapper={TagsWrapper}\r\n          />\r\n        </Grid>\r\n\r\n        <div className=\"english-break\"></div>\r\n        {/* button group */}\r\n        <div className=\"d-flex flex-end jus-content-end pt-5 w-100\">\r\n          <Button\r\n            className={`${classes.btn} ${classes.btnReset}`}\r\n            color=\"secondary\"\r\n            endIcon={<ResetIcon />}\r\n            variant=\"outlined\"\r\n            onClick={() => history.replace(\"/admin/word\")}\r\n          >\r\n            Quay lại\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            className={`${classes.btn} _btn _btn-primary`}\r\n            disabled={submitting}\r\n            endIcon={\r\n              submitting ? <LoopIcon className=\"ani-spin\" /> : <SaveIcon />\r\n            }\r\n            variant=\"contained\"\r\n          >\r\n            Thêm từ\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nWordContribution.propTypes = {\r\n  onSubmitForm: PropTypes.func,\r\n  submitting: PropTypes.bool,\r\n};\r\n\r\nWordContribution.defaultProps = {\r\n  onSubmitForm: function () {},\r\n  submitting: false,\r\n};\r\n\r\nexport default WordContribution;\r\n","import wordApi from \"apis/wordApi\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n// import { messageReducer } from '/src/redux/reducers/messageReducer';\r\nimport WordContribution from \"./index\";\r\nimport { setMessage } from \"redux/actions/messageAction\";\r\n//import messageReducer from 'redux/reducers/messageReducer';\r\n\r\nconst analysisExample = (exampleStr = \"\", word = \"\") => {\r\n  if (typeof exampleStr !== \"string\" || exampleStr === \"\") {\r\n    return [];\r\n  }\r\n\r\n  const exampleArr = exampleStr.split(\"\\n\");\r\n  for (let str of exampleArr) {\r\n    if (str.toLocaleLowerCase().indexOf(word.toLocaleLowerCase()) === -1) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return exampleArr;\r\n};\r\n\r\nfunction WordContributionData() {\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      setSubmitting(true);\r\n      const { examples, synonyms, antonyms, word, phonetic, ...rest } = data;\r\n\r\n      // check examples validation\r\n      const exampleArr = analysisExample(examples, word);\r\n      if (typeof exampleArr === \"boolean\" && !exampleArr) {\r\n        dispatch(setMessage(\"Câu ví dụ phải chứa từ vựng mới.\", \"warning\"));\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // split synonyms string to an array synonyms\r\n      const synonymArr = synonyms !== \"\" ? synonyms.split(\"\\n\") : [];\r\n\r\n      // split antonyms string to an array synonyms\r\n      const antonymArr = antonyms !== \"\" ? antonyms.split(\"\\n\") : [];\r\n\r\n      // call API\r\n      const dataSend = {\r\n        ...rest,\r\n        examples: exampleArr,\r\n        synonyms: synonymArr,\r\n        antonyms: antonymArr,\r\n        word,\r\n        phonetic: phonetic.replaceAll(\"/\", \"\"),\r\n      };\r\n      const apiRes = await wordApi.postWord(dataSend);\r\n      if (apiRes) {\r\n        dispatch(setMessage(\"Created word successfully\", \"success\"));\r\n        setSubmitting(false);\r\n      }\r\n    } catch (error) {\r\n      const message =\r\n        error.response?.data?.message || \"Error, can not create word\";\r\n      dispatch(setMessage(message, \"error\"));\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WordContribution onSubmitForm={handleSubmit} submitting={submitting} />\r\n  );\r\n}\r\n\r\nexport default WordContributionData;\r\n","import React, { useState } from \"react\";\r\nimport WordContributionData from \"components/WordAdmin/AddWord/data\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyle = makeStyles(() => ({\r\n  root: {\r\n    margin: \"3.2rem 0\",\r\n  },\r\n}));\r\n\r\nfunction AddWordPage() {\r\n  const classes = useStyle();\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className={classes.root}>\r\n        <div className=\"ani-fade\">\r\n          <WordContributionData />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddWordPage;\r\n"],"sourceRoot":""}