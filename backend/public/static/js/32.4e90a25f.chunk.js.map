{"version":3,"sources":["apis/listeningApi.js","redux/actions/listeningAction.js","assets/icons/checkAnswer/incorrect.gif","assets/icons/checkAnswer/correct.gif","pages/Listening.js"],"names":["URL","listeningApi","getListening","id","axios","get","getListenByTopic","topic","type","params","getListenById","getListenTopics","getAllListen","searchListen","name","postListen","formData","post","header","putListen","put","deleteListen","patch","dispatch","a","response","status","LISTEN_CONSTANT","GET_LISTENING","payload","data","SET_LISTEN_ERROR","message","DELETE_LISTEN","useStyle","makeStyles","theme","tabcontents","border","padding","backgroundColor","borderRadius","TabPanel","props","children","value","index","other","role","hidden","sx","p","a11yProps","ListeningPage","useTitle","classes","useState","setValue","checkAnswer","setCheckAnswer","showAnswer","setShowAnswer","listenId","useParams","useSelector","state","listeningReducer","listen","questions","useDispatch","useEffect","answers","isCorrect","isPlaying","setIsPlaying","handleCheck","i","includes","j","length","splice","push","variant","align","Name","Description","Video","src","onEnded","width","borderBottom","borderColor","color","onChange","event","newValue","indicatorColor","label","className","dangerouslySetInnerHTML","__html","Script","map","question","Content","correctIcon","alt","incorrectIcon","Answers","item","control","onClick","style","content","numberCorrect","console","log","k","window","confirm","close","handleClickCheckAnswer","location","reload"],"mappings":"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","file":"static/js/32.4e90a25f.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst URL = `/api/listening`;\r\n\r\nconst listeningApi = {\r\n  getListening: (id) => {\r\n    return axios.get(`${URL}/get-listening/${id}`);\r\n  },\r\n\r\n  getListenByTopic: (topic, type) => {\r\n    return axios.get(`${URL}/get-listen-by-topic`, {params: {topic, type}})\r\n  },\r\n\r\n  getListenById: (id) => {\r\n    return axios.get(`${URL}/get-listen-by-id/${id}`)\r\n  },\r\n\r\n  getListenTopics: (topic, type) => {\r\n    return axios.get(`${URL}/get-listen-topics`,{params: { topic, type}})\r\n  },\r\n\r\n  getAllListen: (type) => {\r\n    return axios.get(`${URL}/get-all-listen`, {params: {type}})\r\n  },\r\n\r\n  searchListen: (name) => {\r\n    return axios.get(`${URL}/search-listen`, {params: {name}})\r\n  },\r\n\r\n  postListen: (formData) => {\r\n    return axios.post(`${URL}/post-listen`, {...formData},\r\n    {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    })\r\n  },\r\n\r\n  putListen: (id, formData) => {\r\n    return axios.put(`${URL}/put-listen/${id}`, { ...formData},\r\n    {\r\n      params: { id },\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    });\r\n  },\r\n\r\n  deleteListen: (id) => {\r\n    return axios.patch(`${URL}/delete-listen/${id}`)\r\n  },\r\n}\r\n\r\nexport default listeningApi;\r\n","import LISTEN_CONSTANT from \"../constants/listeningConstant\";\r\nimport listeningApi from \"./../../apis/listeningApi\";\r\nimport authReducer from \"../reducers/authReducer\";\r\n\r\n\r\nexport const getListening = (id) => {\r\n    return async (dispatch) => {\r\n        try {           \r\n          const response = await listeningApi.getListening(id);\r\n            if(response.status===200){\r\n              dispatch({\r\n                  type: LISTEN_CONSTANT.GET_LISTENING,\r\n                  payload: response.data,\r\n                })\r\n            }\r\n           else\r\n            {\r\n              dispatch({\r\n                type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n                payload: response.data.message,\r\n              })\r\n            }\r\n            \r\n        } catch (error) {\r\n          dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.message,\r\n         })\r\n          \r\n        }\r\n      }\r\n};\r\n\r\nexport const getListenByTopic = (topic) => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await listeningApi.getListenByTopic(topic, user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n              type: LISTEN_CONSTANT.GET_LISTEN_BY_TOPIC,\r\n              payload: response.data.topics,\r\n            })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const getAllListen = () => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n        dispatch({\r\n          type: LISTEN_CONSTANT.SET_LISTEN_LOADING,\r\n          payload:true,\r\n        });\r\n\r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await listeningApi.getAllListen(user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n              type: LISTEN_CONSTANT.GET_ALL_LISTEN,\r\n              payload: response.data.listens,\r\n            })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const getListenById = (id) => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await listeningApi.getListenById(id, user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n              type: LISTEN_CONSTANT.GET_LISTEN_BY_ID,\r\n              payload: response.data.listen,\r\n            })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const getListenTopics = () => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n\r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await listeningApi.getListenTopics(user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n              type: LISTEN_CONSTANT.GET_LISTEN_TOPICS,\r\n              payload: response.data.topics,\r\n            })\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const postListen = (formData) => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await listeningApi.postListen(formData , user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n              type: LISTEN_CONSTANT.CREATE_LISTEN,\r\n              payload: response.data.listen,\r\n            })\r\n           // toast.success(\"Add successfully\")\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const putListen = (id, formData) => {\r\n  return async (dispatch, getState) => {\r\n      try { \r\n        const {\r\n          authReducer: { user },\r\n        } = getState();\r\n\r\n        const response = await listeningApi.putListen(id, formData , user.access_token);\r\n        if(response.status===200){\r\n          dispatch({\r\n              type: LISTEN_CONSTANT.EDIT_LISTEN,\r\n              payload: response.data.listen,\r\n            })\r\n          //  toast.success(\"Edit successfully\")\r\n        }\r\n        else\r\n        {\r\n          dispatch({\r\n            type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: response.data.message,\r\n          })\r\n        }\r\n      } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n      }\r\n    }\r\n};\r\n\r\nexport const deleteListen = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await listeningApi.deleteListen(id);\r\n      if (response.status===200) {\r\n        dispatch({\r\n          type: LISTEN_CONSTANT.DELETE_LISTEN,\r\n          payload: id,\r\n        })\r\n      }\r\n      else{\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n          payload: response.data.message,\r\n      })\r\n      }\r\n    } catch (error) {\r\n        dispatch({ type: LISTEN_CONSTANT.SET_LISTEN_ERROR,\r\n            payload: error.response.message,\r\n        })\r\n    }\r\n  }\r\n}\r\n","export default \"data:image/gif;base64,R0lGODlhEAAQAKIAAMQAAP///9ZPT+aXl/TPz8sfH95vb+yvryH5BAUUAAEALAAAAAAQABAAAANCGLrc/pBAN8RsALRTimQFYCxDVhxNqQWq9YQCkbmPnAE0dJiXYtwfyA+XQTkIgswgkBQFmbel7wYIGmIbgcDYayQAADs=\"","export default \"data:image/gif;base64,R0lGODlhEAAQAKIAAD6wPv///53XneHz4WnCab7kvlG4UXnIeSH5BAUUAAEALAAAAAAQABAAAAM+GLrMcy2qQohswpxxV96dkhFcWBhkGJxGoT6AIAmuCICYYcgnUUcCQOsQ6wwMQkCqEwQUQwPn0kiUqVbWSwIAOw==\"","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport useTitle from \"../hooks/useTitle\";\r\nimport { VideoCard } from \"material-ui-player\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getListening } from \"../redux/actions/listeningAction\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport incorrectIcon from \"assets/icons/checkAnswer/incorrect.gif\";\r\nimport correctIcon from \"assets/icons/checkAnswer/correct.gif\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  tabcontents: {\r\n    border: \"1px solid #2eb8b8\",\r\n    padding: \"10px\",\r\n    backgroundColor: \"#FFF\",\r\n    borderRadius: \"0 3px 3px 3px\",\r\n  },\r\n}));\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    \"aria-controls\": `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport default function ListeningPage() {\r\n  useTitle(\"Listening\");\r\n  const classes = useStyle();\r\n  const [value, setValue] = useState(1);\r\n  const [checkAnswer, setCheckAnswer] = useState(false);\r\n  const [showAnswer, setShowAnswer] = useState(false);\r\n\r\n  const listenId = useParams().id;\r\n  const { listen, questions } = useSelector((state) => state.listeningReducer);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => dispatch(getListening(listenId), [dispatch]));\r\n\r\n  // window.localStorage.setItem(listenId, listen.Name);\r\n  // console.log(window.localStorage)\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n  const [isCorrect, setisCorrect] = useState([]);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const handleClickShowAnswer = () => {\r\n    setShowAnswer(true);\r\n  };\r\n\r\n  const handleClickReset = () => {\r\n    if (window.confirm(\"Do you want reload page again?\")) {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleCheck = (index, i) => {\r\n    if (answers[index]) {\r\n      if (answers[index].includes(i)) {\r\n        for (var j = 0; j < answers[index].length; j++) {\r\n          if (answers[index][j] == i) {\r\n            answers[index].splice(j, 1);\r\n          }\r\n        }\r\n      } else {\r\n        answers[index].push(i);\r\n      }\r\n    } else {\r\n      let ar = [];\r\n      answers[index] = ar;\r\n      answers[index].push(i);\r\n    }\r\n  };\r\n\r\n  const handleClickCheckAnswer = () => {\r\n    if (answers.length > 0) {\r\n      for (var i = 0; i < answers.length; i++) {\r\n        if (answers[i]) {\r\n          if (answers[i].length > 0) {\r\n            let numberCorrect = 0;\r\n            for (let j = 0; j < questions[i].Answers.length; j++) {\r\n              if (questions[i].Answers[j].isCorrect == true) {\r\n                numberCorrect += 1;\r\n              }\r\n              console.log(answers[i]);\r\n            }\r\n            if (numberCorrect == answers[i].length) {\r\n              isCorrect[i] = true;\r\n              for (let k = 0; k < answers[i].length; k++) {\r\n                if (questions[i].Answers[answers[i][k]].isCorrect == false) {\r\n                  isCorrect[i] = false;\r\n                }\r\n              }\r\n            } else {\r\n              isCorrect[i] = false;\r\n            }\r\n\r\n            // if(answers[i].length>1) {isCorrect[i]=false;}\r\n            // else{\r\n            //   if(questions[i].Answers[answers[i][0]].isCorrect==true) {isCorrect[i]=true;}\r\n            //   if(questions[i].Answers[answers[i][0]].isCorrect==false) {isCorrect[i]=false;}\r\n          } else {\r\n            if (window.confirm(\"Chọn đáp án cho tất cả câu hỏi.\")) {\r\n              window.close();\r\n            }\r\n          }\r\n        } else {\r\n          if (window.confirm(\"Chọn đáp án cho tất cả câu hỏi.\")) {\r\n            window.close();\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (window.confirm(\"Chọn đáp án cho tất cả câu hỏi.\")) {\r\n        window.close();\r\n      }\r\n    }\r\n    setCheckAnswer(true);\r\n    setShowAnswer(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Typography variant=\"h6\" align=\"center\">\r\n          {listen.Name}\r\n        </Typography>\r\n\r\n        <Typography>{listen.Description}</Typography>\r\n\r\n        {listen.Video && (\r\n          <div>\r\n            <VideoCard\r\n              src={isPlaying === true && listen.Video}\r\n              onEnded={() => setIsPlaying(false)}\r\n            ></VideoCard>\r\n          </div>\r\n        )}\r\n\r\n        <Box sx={{ width: \"100%\" }}>\r\n          <Box\r\n            sx={{\r\n              borderBottom: 1,\r\n              borderColor: \"divider\",\r\n              backgroundColor: \"#2eb8b8\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            <Tabs\r\n              value={value}\r\n              onChange={handleChange}\r\n              aria-label=\"basic tabs example\"\r\n              indicatorColor=\"primary\"\r\n            >\r\n              <Tab label=\"Script\" {...a11yProps(0)} />\r\n              <Tab label=\"Quiz\" {...a11yProps(1)} />\r\n            </Tabs>\r\n          </Box>\r\n          <div className={classes.tabcontents}>\r\n            <TabPanel value={value} index={0}>\r\n              <td dangerouslySetInnerHTML={{ __html: listen.Script }} />\r\n            </TabPanel>\r\n\r\n            <TabPanel value={value} index={1}>\r\n              <Typography variant=\"h6\">\r\n                Answer the following questions about the interview.\r\n              </Typography>\r\n\r\n              {questions &&\r\n                questions.map((question, index) => (\r\n                  <>\r\n                    <Typography variant=\"body2\">\r\n                      {index + 1}) {question.Content}\r\n                      {checkAnswer && isCorrect[index] == true && (\r\n                        <span>\r\n                          <img src={correctIcon} alt=\"Correct!\" />\r\n                        </span>\r\n                      )}\r\n                      {checkAnswer && isCorrect[index] == false && (\r\n                        <span>\r\n                          <img src={incorrectIcon} alt=\"Correct!\" />\r\n                        </span>\r\n                      )}\r\n                    </Typography>\r\n                    <FormGroup>\r\n                      {question.Answers.map((item, i) =>\r\n                        showAnswer && item.isCorrect == true ? (\r\n                          <FormControlLabel\r\n                            key={i}\r\n                            control={\r\n                              <Checkbox\r\n                                color=\"primary\"\r\n                                id={`${item}-${i}`}\r\n                                onClick={() => handleCheck(index, i)}\r\n                              />\r\n                            }\r\n                            label={\r\n                              <Typography style={{ color: \"#008000\" }}>\r\n                                <strong>{item.content}</strong>\r\n                              </Typography>\r\n                            }\r\n                          ></FormControlLabel>\r\n                        ) : (\r\n                          <FormControlLabel\r\n                            key={i}\r\n                            control={\r\n                              <Checkbox\r\n                                color=\"primary\"\r\n                                id={`${item}-${i}`}\r\n                                onClick={() => handleCheck(index, i)}\r\n                              />\r\n                            }\r\n                            label={item.content}\r\n                          ></FormControlLabel>\r\n                        )\r\n                      )}\r\n                    </FormGroup>\r\n                  </>\r\n                ))}\r\n\r\n              <Button color=\"primary\" onClick={() => handleClickCheckAnswer()}>\r\n                Check Answers\r\n              </Button>\r\n              <Button color=\"primary\" onClick={() => handleClickReset()}>\r\n                Reset Quiz\r\n              </Button>\r\n              <Button color=\"primary\" onClick={() => handleClickShowAnswer()}>\r\n                Show Answers\r\n              </Button>\r\n            </TabPanel>\r\n          </div>\r\n        </Box>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}