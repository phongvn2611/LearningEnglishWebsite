{"version":3,"sources":["components/UI/SelectCustom/style.js","components/UI/SelectCustom/index.js","../node_modules/@material-ui/icons/Save.js","../node_modules/@material-ui/icons/PhotoCamera.js","pages/EditUser.js"],"names":["makeStyles","root","backgroundColor","color","borderRadius","borderColor","label","fontSize","labelFocus","selectRoot","border","selectIcon","selectMenu","maxHeight","padding","SelectCustom","props","options","className","error","resetFlag","index","onChange","selectProps","useState","value","setValue","classes","useStyle","useEffect","FormControl","variant","InputLabel","focused","id","Select","icon","MenuProps","paper","disableUnderline","labelId","e","target","map","option","MenuItem","defaultProps","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","Fragment","cx","cy","r","schema","yup","shape","email","trim","required","name","matches","wrap","minHeight","textAlign","boxShadow","avtWrap","width","height","position","avt","cameraIconWrap","right","bottom","cursor","opacity","cameraIcon","fileInput","top","left","lineHeight","letterSpacing","role","fontWeight","textTransform","info","margin","coin","visiblePw","visibleConfirmPw","editBtn","textError","marginTop","EditUserPage","useTitle","submitting","setSubmitting","user_id","useParams","initEmail","setInitEmail","history","useHistory","dispatch","useDispatch","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","user","setUser","avatar","setAvatar","a","userApi","getUserDetails","res","data","handleChange","handleEditUser","dataSend","roleType","editUser","setMessage","message","replace","response","autoComplete","onSubmit","src","alt","type","accept","preventDefault","file","files","size","convertImageToBase64","then","err","placeholder","Boolean","inputProps","autoFocus","ROLE_TYPE","onClick","disabled","endIcon"],"mappings":"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","file":"static/js/33.d1c122dd.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles(() => ({\n  root: {\n    backgroundColor: 'var(--bg-color-accent)',\n    color: 'var(--text-color)',\n    borderRadius: 'var(--border-radius)',\n\n    '& .Mui-error .MuiSelect-root': {\n      borderColor: 'var(--error-color) !important',\n    },\n  },\n\n  label: {\n    color: 'var(--label-color)',\n    fontSize: '1.5rem',\n  },\n\n  labelFocus: {\n    color: 'var(--secondary-color) !important',\n  },\n\n  selectRoot: {\n    color: 'var(--text-color)',\n    fontSize: '1.6rem',\n    borderRadius: 'var(--border-radius) !important',\n    border: 'solid 1px var(--border-color)',\n\n    backgroundColor: 'var(--bg-color-accent) !important',\n  },\n\n  selectIcon: {\n    color: 'var(--label-color)',\n  },\n\n  selectMenu: {\n    backgroundColor: 'var(--bg-color-accent)',\n    maxHeight: '25rem',\n\n    '& .MuiMenuItem-root': {\n      fontSize: '1.5rem',\n      padding: '1rem 1.6rem',\n\n      '&:hover, &:active, &.Mui-selected': {\n        backgroundColor: 'var(--hover-color)',\n      },\n    },\n  },\n}));\n","import FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport useStyle from './style';\n\nfunction SelectCustom(props) {\n  const {\n    label,\n    options,\n    className,\n    error,\n    resetFlag,\n    index,\n    onChange,\n    ...selectProps\n  } = props;\n  const [value, setValue] = useState(options[index]?.value);\n  const classes = useStyle();\n\n  useEffect(() => {\n    if (!resetFlag) return;\n    // reset value if parent component reset, except first render\n    setValue(options[0]?.value);\n  }, [resetFlag]);\n\n  return (\n    <>\n      <FormControl className={`${classes.root} ${className}`} variant=\"filled\">\n        <InputLabel\n          classes={{ root: classes.label, focused: classes.labelFocus }}\n          id={label}>\n          {label}\n        </InputLabel>\n        <Select\n          classes={{\n            root: classes.selectRoot,\n            icon: classes.selectIcon,\n          }}\n          MenuProps={{ classes: { paper: classes.selectMenu } }}\n          disableUnderline\n          error={error}\n          labelId={label}\n          label={label}\n          value={value}\n          onChange={(e) => {\n            setValue(e.target.value);\n            onChange(e);\n          }}\n          {...selectProps}>\n          {options &&\n            options.map((option, index) => (\n              <MenuItem key={index} value={option.value}>\n                {option.label}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    </>\n  );\n}\n\nSelectCustom.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.string,\n  options: PropTypes.array,\n  error: PropTypes.bool,\n  resetFlag: PropTypes.number,\n  onChange: PropTypes.func,\n};\n\nSelectCustom.defaultProps = {\n  className: '',\n  label: 'Label',\n  options: [],\n  error: false,\n  resetFlag: 0,\n  onChange: function () {},\n};\n\nexport default SelectCustom;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n})), 'PhotoCamera');\n\nexports.default = _default;","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport InputCustom from \"components/UI/InputCustom\";\nimport SelectCustom from \"components/UI/SelectCustom\";\nimport { ROUTES, ROLE_TYPE } from \"constants/index\";\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch } from \"react-redux\";\nimport { setMessage } from \"redux/actions/messageAction\";\nimport * as yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport { convertImageToBase64 } from \"helper/index\";\nimport useTitle from \"hooks/useTitle\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport userApi from 'apis/userApi';\nimport { useParams } from 'react-router';\n\nconst nameRegex = /^[^\\d~`!@#$%^&*\\(\\)\\\\\\|\\.,\\?\\/\\-\\+\\=\\_]+$/gi;\nconst schema = yup.object().shape({\n  email: yup.string().trim().required(\"Nhập email\").email(\"Email không hợp lệ\"),\n  name: yup\n    .string()\n    .trim()\n    .required(\"Nhập họ tên\")\n    .matches(nameRegex, \"Họ tên không chứa số và ký tự đặc biệt\"),\n});\n\nconst useStyle = makeStyles(() => ({\n  wrap: {\n    minHeight: \"calc(100vh - 7.2rem)\",\n  },\n\n  root: {\n    backgroundColor: \"var(--bg-color-sec)\",\n    padding: \"1.5rem 2.5rem\",\n    borderRadius: \"var(--border-radius)\",\n    textAlign: \"center\",\n    boxShadow: \"var(--box-shadow)\",\n  },\n\n  avtWrap: {\n    width: \"15rem\",\n    height: \"15rem\",\n    position: \"relative\",\n  },\n\n  avt: {\n    borderRadius: \"50%\",\n    border: \"2px solid var(--primary-color)\",\n  },\n\n  cameraIconWrap: {\n    position: \"absolute\",\n    right: 0,\n    bottom: 0,\n\n    width: \"4.2rem\",\n    height: \"4.2rem\",\n    padding: \"1.2rem\",\n\n    backgroundColor: \"var(--primary-color)\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    border: \"solid 5px var(--bg-color-sec)\",\n\n    \"&:hover, &:active\": {\n      opacity: 0.85,\n    },\n  },\n\n  cameraIcon: {\n    color: \"var(--text-color)\",\n    fontSize: \"2rem\",\n  },\n\n  fileInput: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    top: 0,\n    left: 0,\n    opacity: 0,\n    cursor: \"pointer\",\n  },\n\n  name: {\n    fontSize: \"2.4rem\",\n    lineHeight: 1.5,\n    letterSpacing: \"0.75px\",\n  },\n\n  role: {\n    fontSize: \"1.5rem\",\n    fontWeight: 400,\n    color: \"var(--label-color)\",\n    letterSpacing: \"0.75px\",\n    textTransform: \"capitalize\",\n  },\n\n  info: {\n    margin: \"2.4rem 0\",\n\n    \"& p\": {\n      lineHeight: 2,\n      fontSize: \"1.6rem\",\n      letterSpacing: \"0.75px\",\n      color: \"var(--text-color)\",\n    },\n  },\n\n  coin: {\n    color: \"var(--label-color)\",\n    fontWeight: \"bold\",\n    fontSize: \"2rem\",\n  },\n  icon: {\n    fontSize: \"1.8rem\",\n    color: \"var(--grey)\",\n    cursor: \"pointer\",\n  },\n\n  visiblePw: {\n    color: \"var(--primary-color)\",\n  },\n  visibleConfirmPw: {\n    color: \"var(--primary-color)\",\n  },\n  editBtn: {\n    padding: \"5px 10px\",\n  },\n  textError: {\n    marginTop: \"4px\",\n    color: \"var(--error-color)\",\n    fontSize: \"1.2rem\",\n    textAlign: \"left\",\n  },\n}));\n\nfunction EditUserPage() {\n  useTitle(\"Edit user\");\n  const classes = useStyle();\n  const defaultImg =\n    \"https://res.cloudinary.com/phongvn2611/image/upload/v1634179173/english/avatar/avatar-default_tx5lsb.png\";\n  const [submitting, setSubmitting] = useState(false);\n  const { user_id } = useParams();\n  const [initEmail, setInitEmail] = useState(null);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const [user, setUser] = useState({});\n\n  const [avatar, setAvatar] = useState(null);\n  useEffect(() => {\n    (async function () {\n      const res = await userApi.getUserDetails(user_id);\n      setUser(res.data.user);\n      setInitEmail(res.data.user.email);\n      setAvatar(res.data.user.avatar)\n    })();\n    return () => {};\n  }, [user_id]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n  const handleChangeAvatar = (e) => {\n    e.preventDefault();\n    try {\n      const file = e.target.files[0];\n      if (!file) {\n        dispatch(setMessage(\"No files were uploaded\", \"errors\"));\n      }\n      if (file.size / 1024 ** 2 > 2) {\n        dispatch(setMessage(\"Size too large\", \"errors\"));\n      }\n      convertImageToBase64(file).then((res) => {\n        setAvatar(res);\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n  const handleEditUser = async () => {\n    try {\n      setSubmitting(true);\n      const dataSend = {\n        name: user.name,\n        email: user.email,\n        avatar,\n        role: user.roleType,\n        initEmail\n      }\n      const res = await userApi.editUser(user_id, dataSend);\n      if (res) {\n        dispatch(setMessage(res.data.message, 'success'));\n        setSubmitting(false);\n        history.replace(`/admin/user/detail/${user_id}`)\n      }\n    }\n    catch (error) {\n      dispatch(setMessage(error.response.data.message, 'error'));\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <div className={`${classes.wrap} container flex-center`}>\n      <div className={classes.root}>\n        <form autoComplete=\"off\" onSubmit={handleSubmit(handleEditUser)}>\n          <div className=\"flex-center w-100 h-100\">\n            <div className={classes.avtWrap}>\n              <img\n                src={avatar ? avatar : defaultImg}\n                alt=\"\"\n                className={`${classes.avt} w-100 h-100`}\n              />\n              <div className={`${classes.cameraIconWrap} flex-center`}>\n                <CameraIcon className={classes.cameraIcon} />\n                <input\n                  type=\"file\"\n                  className={classes.fileInput}\n                  accept=\"image/*\"\n                  onChange={handleChangeAvatar}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"flex-col mt-10\">\n            <InputCustom\n              label=\"Email\"\n              size=\"small\"\n              placeholder=\"Nhập email\"\n              value={user.email ? user.email : ''}\n              error={Boolean(errors.email)}\n              inputProps={{\n                name: \"email\",\n                autoFocus: true,\n                ...register(\"email\"),\n              }}\n              onChange={handleChange}\n            />\n            {errors.email && (\n              <p className=\"text-error\">{errors.email?.message}</p>\n            )}\n            <InputCustom\n              label=\"Họ tên\"\n              size=\"small\"\n              placeholder=\"Nhập họ tên\"\n              className=\"mt-10\"\n              value={user.name ? user.name : ''}\n              error={Boolean(errors.name)}\n              inputProps={{\n                name: \"name\",\n                ...register(\"name\"),\n              }}\n              onChange={handleChange}\n            />\n            {errors.name && (\n              <p className=\"text-error\">{errors.name?.message}</p>\n            )}\n            \n            <SelectCustom\n              className=\"mt-10\"\n              label=\"Quyền\"\n              options={ROLE_TYPE}\n              value={user.roleType ? user.roleType : ''}\n              inputProps={{\n                name: \"roleType\",\n              }}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"d-flex-center flex-center-col mt-10\">\n            <Button\n              className={`${classes.editBtn} _btn _btn-outlined-accent mb-4 w-100`}\n              onClick={() => history.replace(`/admin/user/detail/${user_id}`)}\n            >\n              Quay lại\n            </Button>\n            <Button\n              type=\"submit\"\n              className={`${classes.editBtn} _btn _btn-primary w-100`}\n              disabled={submitting}\n              endIcon={\n                submitting ? <LoopIcon className=\"ani-spin\" /> : <SaveIcon />\n              }\n              variant=\"contained\"\n            >\n              Sửa\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default EditUserPage;\n"],"sourceRoot":""}