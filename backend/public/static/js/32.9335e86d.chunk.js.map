{"version":3,"sources":["components/UI/SelectCustom/style.js","components/UI/SelectCustom/index.js","../node_modules/@material-ui/icons/Save.js","../node_modules/@material-ui/icons/PhotoCamera.js","pages/AddUser.js"],"names":["makeStyles","root","backgroundColor","color","borderRadius","borderColor","label","fontSize","labelFocus","selectRoot","border","selectIcon","selectMenu","maxHeight","padding","SelectCustom","props","options","className","error","resetFlag","index","onChange","selectProps","useState","value","setValue","classes","useStyle","useEffect","FormControl","variant","InputLabel","focused","id","Select","icon","MenuProps","paper","disableUnderline","labelId","e","target","map","option","MenuItem","defaultProps","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","Fragment","cx","cy","r","schema","yup","shape","email","trim","required","name","matches","wrap","minHeight","textAlign","boxShadow","avtWrap","width","height","position","avt","cameraIconWrap","right","bottom","cursor","opacity","cameraIcon","fileInput","top","left","lineHeight","letterSpacing","role","fontWeight","textTransform","info","margin","coin","visiblePw","visibleConfirmPw","editBtn","textError","marginTop","AddUserPage","useTitle","defaultImg","submitting","setSubmitting","avatar","setAvatar","user","setUser","history","useHistory","dispatch","useDispatch","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","handleChange","handleAddUser","a","dataSend","userApi","addUser","res","setMessage","data","message","replace","ROUTES","USER_ADMIN","response","autoComplete","onSubmit","src","alt","type","accept","preventDefault","file","files","size","convertImageToBase64","then","err","placeholder","Boolean","inputProps","autoFocus","ROLE_TYPE","disabled","endIcon"],"mappings":"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","file":"static/js/32.9335e86d.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(() => ({\r\n  root: {\r\n    backgroundColor: 'var(--bg-color-accent)',\r\n    color: 'var(--text-color)',\r\n    borderRadius: 'var(--border-radius)',\r\n\r\n    '& .Mui-error .MuiSelect-root': {\r\n      borderColor: 'var(--error-color) !important',\r\n    },\r\n  },\r\n\r\n  label: {\r\n    color: 'var(--label-color)',\r\n    fontSize: '1.5rem',\r\n  },\r\n\r\n  labelFocus: {\r\n    color: 'var(--secondary-color) !important',\r\n  },\r\n\r\n  selectRoot: {\r\n    color: 'var(--text-color)',\r\n    fontSize: '1.6rem',\r\n    borderRadius: 'var(--border-radius) !important',\r\n    border: 'solid 1px var(--border-color)',\r\n\r\n    backgroundColor: 'var(--bg-color-accent) !important',\r\n  },\r\n\r\n  selectIcon: {\r\n    color: 'var(--label-color)',\r\n  },\r\n\r\n  selectMenu: {\r\n    backgroundColor: 'var(--bg-color-accent)',\r\n    maxHeight: '25rem',\r\n\r\n    '& .MuiMenuItem-root': {\r\n      fontSize: '1.5rem',\r\n      padding: '1rem 1.6rem',\r\n\r\n      '&:hover, &:active, &.Mui-selected': {\r\n        backgroundColor: 'var(--hover-color)',\r\n      },\r\n    },\r\n  },\r\n}));\r\n","import FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react';\r\nimport useStyle from './style';\r\n\r\nfunction SelectCustom(props) {\r\n  const {\r\n    label,\r\n    options,\r\n    className,\r\n    error,\r\n    resetFlag,\r\n    index,\r\n    onChange,\r\n    ...selectProps\r\n  } = props;\r\n  const [value, setValue] = useState(options[index]?.value);\r\n  const classes = useStyle();\r\n\r\n  useEffect(() => {\r\n    if (!resetFlag) return;\r\n    // reset value if parent component reset, except first render\r\n    setValue(options[0]?.value);\r\n  }, [resetFlag]);\r\n\r\n  return (\r\n    <>\r\n      <FormControl className={`${classes.root} ${className}`} variant=\"filled\">\r\n        <InputLabel\r\n          classes={{ root: classes.label, focused: classes.labelFocus }}\r\n          id={label}>\r\n          {label}\r\n        </InputLabel>\r\n        <Select\r\n          classes={{\r\n            root: classes.selectRoot,\r\n            icon: classes.selectIcon,\r\n          }}\r\n          MenuProps={{ classes: { paper: classes.selectMenu } }}\r\n          disableUnderline\r\n          error={error}\r\n          labelId={label}\r\n          label={label}\r\n          value={value}\r\n          onChange={(e) => {\r\n            setValue(e.target.value);\r\n            onChange(e);\r\n          }}\r\n          {...selectProps}>\r\n          {options &&\r\n            options.map((option, index) => (\r\n              <MenuItem key={index} value={option.value}>\r\n                {option.label}\r\n              </MenuItem>\r\n            ))}\r\n        </Select>\r\n      </FormControl>\r\n    </>\r\n  );\r\n}\r\n\r\nSelectCustom.propTypes = {\r\n  className: PropTypes.string,\r\n  label: PropTypes.string,\r\n  options: PropTypes.array,\r\n  error: PropTypes.bool,\r\n  resetFlag: PropTypes.number,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nSelectCustom.defaultProps = {\r\n  className: '',\r\n  label: 'Label',\r\n  options: [],\r\n  error: false,\r\n  resetFlag: 0,\r\n  onChange: function () {},\r\n};\r\n\r\nexport default SelectCustom;\r\n","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar React = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\n\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\r\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\r\n}), 'Save');\r\n\r\nexports.default = _default;","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar React = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\n\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"circle\", {\r\n  cx: \"12\",\r\n  cy: \"12\",\r\n  r: \"3.2\"\r\n}), /*#__PURE__*/React.createElement(\"path\", {\r\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\r\n})), 'PhotoCamera');\r\n\r\nexports.default = _default;","import { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LoopIcon from \"@material-ui/icons/Loop\";\r\nimport ResetIcon from \"@material-ui/icons/RotateLeft\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport InputCustom from \"components/UI/InputCustom\";\r\nimport SelectCustom from \"components/UI/SelectCustom\";\r\nimport { ROUTES, ROLE_TYPE } from \"constants/index\";\r\nimport React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setMessage } from \"redux/actions/messageAction\";\r\nimport * as yup from \"yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport { convertImageToBase64 } from \"helper/index\";\r\nimport useTitle from \"hooks/useTitle\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport userApi from 'apis/userApi';\r\n\r\nconst nameRegex = /^[^\\d~`!@#$%^&*\\(\\)\\\\\\|\\.,\\?\\/\\-\\+\\=\\_]+$/gi;\r\nconst schema = yup.object().shape({\r\n  email: yup.string().trim().required(\"Nhập email\").email(\"Email không hợp lệ\"),\r\n  name: yup\r\n    .string()\r\n    .trim()\r\n    .required(\"Nhập họ tên\")\r\n    .matches(nameRegex, \"Họ tên không chứa số và ký tự đặc biệt\"),\r\n});\r\n\r\nconst useStyle = makeStyles(() => ({\r\n  wrap: {\r\n    minHeight: \"calc(100vh - 7.2rem)\",\r\n  },\r\n\r\n  root: {\r\n    backgroundColor: \"var(--bg-color-sec)\",\r\n    padding: \"1.5rem 2.5rem\",\r\n    borderRadius: \"var(--border-radius)\",\r\n    textAlign: \"center\",\r\n    boxShadow: \"var(--box-shadow)\",\r\n  },\r\n\r\n  avtWrap: {\r\n    width: \"15rem\",\r\n    height: \"15rem\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  avt: {\r\n    borderRadius: \"50%\",\r\n    border: \"2px solid var(--primary-color)\",\r\n  },\r\n\r\n  cameraIconWrap: {\r\n    position: \"absolute\",\r\n    right: 0,\r\n    bottom: 0,\r\n\r\n    width: \"4.2rem\",\r\n    height: \"4.2rem\",\r\n    padding: \"1.2rem\",\r\n\r\n    backgroundColor: \"var(--primary-color)\",\r\n    borderRadius: \"50%\",\r\n    cursor: \"pointer\",\r\n    border: \"solid 5px var(--bg-color-sec)\",\r\n\r\n    \"&:hover, &:active\": {\r\n      opacity: 0.85,\r\n    },\r\n  },\r\n\r\n  cameraIcon: {\r\n    color: \"var(--text-color)\",\r\n    fontSize: \"2rem\",\r\n  },\r\n\r\n  fileInput: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    top: 0,\r\n    left: 0,\r\n    opacity: 0,\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  name: {\r\n    fontSize: \"2.4rem\",\r\n    lineHeight: 1.5,\r\n    letterSpacing: \"0.75px\",\r\n  },\r\n\r\n  role: {\r\n    fontSize: \"1.5rem\",\r\n    fontWeight: 400,\r\n    color: \"var(--label-color)\",\r\n    letterSpacing: \"0.75px\",\r\n    textTransform: \"capitalize\",\r\n  },\r\n\r\n  info: {\r\n    margin: \"2.4rem 0\",\r\n\r\n    \"& p\": {\r\n      lineHeight: 2,\r\n      fontSize: \"1.6rem\",\r\n      letterSpacing: \"0.75px\",\r\n      color: \"var(--text-color)\",\r\n    },\r\n  },\r\n\r\n  coin: {\r\n    color: \"var(--label-color)\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"2rem\",\r\n  },\r\n  icon: {\r\n    fontSize: \"1.8rem\",\r\n    color: \"var(--grey)\",\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  visiblePw: {\r\n    color: \"var(--primary-color)\",\r\n  },\r\n  visibleConfirmPw: {\r\n    color: \"var(--primary-color)\",\r\n  },\r\n  editBtn: {\r\n    padding: \"5px 10px\",\r\n  },\r\n  textError: {\r\n    marginTop: \"4px\",\r\n    color: \"var(--error-color)\",\r\n    fontSize: \"1.2rem\",\r\n    textAlign: \"left\",\r\n  },\r\n}));\r\n\r\nfunction AddUserPage() {\r\n  useTitle(\"Add user\");\r\n  const classes = useStyle();\r\n  const defaultImg =\r\n    \"https://res.cloudinary.com/phongvn2611/image/upload/v1634179173/english/avatar/avatar-default_tx5lsb.png\";\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [avatar, setAvatar] = useState(defaultImg);\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    role: \"\"\r\n  });\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  const handleChangeAvatar = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const file = e.target.files[0];\r\n      if (!file) {\r\n        dispatch(setMessage(\"No files were uploaded\", \"errors\"));\r\n      }\r\n      if (file.size / 1024 ** 2 > 2) {\r\n        dispatch(setMessage(\"Size too large\", \"errors\"));\r\n      }\r\n      convertImageToBase64(file).then((res) => {\r\n        setAvatar(res);\r\n      });\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n  const handleAddUser = async () => {\r\n    try {\r\n      setSubmitting(true);\r\n      const dataSend = {\r\n        name: user.name,\r\n        email: user.email,\r\n        avatar,\r\n        role: user.role\r\n      }\r\n      const res = await userApi.addUser(dataSend);\r\n      if (res) {\r\n        dispatch(setMessage(res.data.message, 'success'));\r\n        setSubmitting(false);\r\n        history.replace(ROUTES.USER_ADMIN);\r\n      }\r\n    }\r\n    catch (error) {\r\n      dispatch(setMessage(error.response.data.message, 'error'));\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`${classes.wrap} container flex-center`}>\r\n      <div className={classes.root}>\r\n        <form autoComplete=\"off\" onSubmit={handleSubmit(handleAddUser)}>\r\n          <div className=\"flex-center w-100 h-100\">\r\n            <div className={classes.avtWrap}>\r\n              <img\r\n                src={avatar ? avatar : defaultImg}\r\n                alt=\"\"\r\n                className={`${classes.avt} w-100 h-100`}\r\n              />\r\n              <div className={`${classes.cameraIconWrap} flex-center`}>\r\n                <CameraIcon className={classes.cameraIcon} />\r\n                <input\r\n                  type=\"file\"\r\n                  className={classes.fileInput}\r\n                  accept=\"image/*\"\r\n                  onChange={handleChangeAvatar}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-col mt-10\">\r\n            <InputCustom\r\n              label=\"Email\"\r\n              size=\"small\"\r\n              placeholder=\"Nhập email\"\r\n              error={Boolean(errors.email)}\r\n              inputProps={{\r\n                name: \"email\",\r\n                autoFocus: true,\r\n                ...register(\"email\"),\r\n              }}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.email && (\r\n              <p className=\"text-error\">{errors.email?.message}</p>\r\n            )}\r\n            <InputCustom\r\n              label=\"Họ tên\"\r\n              size=\"small\"\r\n              placeholder=\"Nhập họ tên\"\r\n              className=\"mt-10\"\r\n              error={Boolean(errors.name)}\r\n              inputProps={{\r\n                name: \"name\",\r\n                ...register(\"name\"),\r\n              }}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.name && (\r\n              <p className=\"text-error\">{errors.name?.message}</p>\r\n            )}\r\n            \r\n            <SelectCustom\r\n              className=\"mt-10\"\r\n              label=\"Quyền\"\r\n              options={ROLE_TYPE}\r\n              index={0}\r\n              inputProps={{\r\n                name: \"role\",\r\n              }}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"d-flex-center flex-center-col mt-10\">\r\n            <Button\r\n              className={`${classes.editBtn} _btn _btn-outlined-accent mb-4 w-100`}\r\n            >\r\n              Quay lại\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className={`${classes.editBtn} _btn _btn-primary w-100`}\r\n              disabled={submitting}\r\n              endIcon={\r\n                submitting ? <LoopIcon className=\"ani-spin\" /> : <SaveIcon />\r\n              }\r\n              variant=\"contained\"\r\n            >\r\n              Thêm\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddUserPage;\r\n"],"sourceRoot":""}