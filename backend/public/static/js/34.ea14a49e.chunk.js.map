{"version":3,"sources":["../node_modules/@material-ui/icons/Delete.js","../node_modules/@material-ui/icons/Edit.js","../node_modules/@material-ui/icons/LockOpen.js","../node_modules/@material-ui/icons/Lock.js","pages/UserDetail.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","useStyle","makeStyles","wrap","minHeight","root","backgroundColor","padding","borderRadius","textAlign","boxShadow","avtWrap","width","height","position","avt","border","cameraIconWrap","right","bottom","cursor","opacity","cameraIcon","color","fontSize","fileInput","top","left","name","lineHeight","letterSpacing","role","fontWeight","textTransform","info","margin","coin","icon","visiblePw","visibleConfirmPw","editBtn","textError","marginTop","UserDetailPage","useTitle","classes","user","useSelector","state","authReducer","user_id","useParams","useState","userDetail","setUserDetail","dispatch","useDispatch","history","useHistory","useEffect","a","userApi","getUserDetails","res","data","handleLockUser","_id","setMessage","lockUser","message","window","location","reload","response","handleUnlockUser","unlockUser","handleDeleteUser","deleteUser","replace","ROUTES","USER_ADMIN","className","src","avatar","alt","roleType","email","formatDate","createdAt","startIcon","onClick","push","isLocked"],"mappings":"uGAEA,IAAIA,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,kFACD,UAEJN,EAAQE,QAAUE,G,iCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,wJACD,QAEJN,EAAQE,QAAUE,G,iCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,4OACD,YAEJN,EAAQE,QAAUE,G,iCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,sOACD,QAEJN,EAAQE,QAAUE,G,6RCEZG,EAAWC,aAAW,iBAAO,CACjCC,KAAM,CACJC,UAAW,wBAGbC,KAAM,CACJC,gBAAiB,sBACjBC,QAAS,gBACTC,aAAc,uBACdC,UAAW,SACXC,UAAW,qBAGbC,QAAS,CACPC,MAAO,QACPC,OAAQ,QACRC,SAAU,YAGZC,IAAK,CACHP,aAAc,MACdQ,OAAQ,kCAGVC,eAAgB,CACdH,SAAU,WACVI,MAAO,EACPC,OAAQ,EAERP,MAAO,SACPC,OAAQ,SACRN,QAAS,SAETD,gBAAiB,uBACjBE,aAAc,MACdY,OAAQ,UACRJ,OAAQ,gCAER,oBAAqB,CACnBK,QAAS,MAIbC,WAAY,CACVC,MAAO,oBACPC,SAAU,QAGZC,UAAW,CACTX,SAAU,WACVF,MAAO,OACPC,OAAQ,OACRa,IAAK,EACLC,KAAM,EACNN,QAAS,EACTD,OAAQ,WAGVQ,KAAM,CACJJ,SAAU,SACVK,WAAY,IACZC,cAAe,UAGjBC,KAAM,CACJP,SAAU,SACVQ,WAAY,IACZT,MAAO,qBACPO,cAAe,SACfG,cAAe,cAGjBC,KAAM,CACJC,OAAQ,WAER,MAAO,CACLN,WAAY,EACZL,SAAU,SACVM,cAAe,SACfP,MAAO,sBAIXa,KAAM,CACJb,MAAO,qBACPS,WAAY,OACZR,SAAU,QAEZa,KAAM,CACJb,SAAU,SACVD,MAAO,cACPH,OAAQ,WAGVkB,UAAW,CACTf,MAAO,wBAETgB,iBAAkB,CAChBhB,MAAO,wBAETiB,QAAS,CACPjC,QAAS,WACTK,MAAO,QAET6B,UAAW,CACTC,UAAW,MACXnB,MAAO,qBACPC,SAAU,SACVf,UAAW,YAIA,SAASkC,IACtBC,YAAS,eACT,IAAMC,EAAU5C,IACR6C,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMC,eAAtCH,KACAI,EAAYC,cAAZD,QACR,EAAoCE,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACMC,EAAWC,cACXC,EAAUC,cAEhBC,qBAAU,WAKR,OAJA,sBAAC,4BAAAC,EAAA,sEACmBC,IAAQC,eAAeZ,GAD1C,OACOa,EADP,OAECT,EAAcS,EAAIC,KAAKlB,MAFxB,0CAAD,GAIO,eACN,CAACI,IAEJ,IAAMe,EAAc,uCAAG,4BAAAL,EAAA,yDACjBd,EAAKoB,MAAQhB,EADI,gBAEnBK,EAASY,YAAW,0BAA2B,UAF5B,gDAKCN,IAAQO,SAASlB,GALlB,QAKXa,EALW,UAOfR,EAASY,YAAWJ,EAAIC,KAAKK,QAAS,YACtCC,OAAOC,SAASC,UARD,kDAWjBjB,EAASY,YAAW,KAAIM,SAAST,KAAKK,QAAS,UAX9B,0DAAH,qDAgBdK,EAAgB,uCAAG,4BAAAd,EAAA,+EAEHC,IAAQc,WAAWzB,GAFhB,QAEfa,EAFe,UAInBR,EAASY,YAAWJ,EAAIC,KAAKK,QAAS,YACtCC,OAAOC,SAASC,UALG,gDAQrBjB,EAASY,YAAW,KAAIM,SAAST,KAAKK,QAAS,UAR1B,yDAAH,qDAWhBO,EAAgB,uCAAG,4BAAAhB,EAAA,yDACnBd,EAAKoB,MAAQhB,EADM,gBAErBK,EAASY,YAAW,0BAA2B,UAF1B,gDAKDN,IAAQgB,WAAW3B,GALlB,QAKba,EALa,UAOjBR,EAASY,YAAWJ,EAAIC,KAAKK,QAAS,YACtCZ,EAAQqB,QAAQC,IAAOC,aARN,kDAWnBzB,EAASY,YAAW,KAAIM,SAAST,KAAKK,QAAS,UAX5B,0DAAH,qDAgBtB,OACE,qBAAKY,UAAS,UAAKpC,EAAQ1C,KAAb,0BAAd,SACE,sBAAK8E,UAAWpC,EAAQxC,KAAxB,UACE,qBAAK4E,UAAU,0BAAf,SACE,qBAAKA,UAAWpC,EAAQlC,QAAxB,SACE,qBACEuE,IAAK7B,EAAW8B,OAChBC,IAAI,GACJH,UAAS,UAAKpC,EAAQ9B,IAAb,sBAIf,sBAAKkE,UAAU,QAAf,UACE,oBAAIA,UAAWpC,EAAQjB,KAAvB,SAA8ByB,EAAWzB,OACzC,oBAAIqD,UAAWpC,EAAQd,KAAvB,SAA8BsB,EAAWgC,cAG3C,sBAAKJ,UAAWpC,EAAQX,KAAxB,UACE,4BAAImB,EAAWiC,QACf,4DAAoBC,YAAWlC,EAAWmC,cAC1C,iEACoB,IAClB,sBAAMP,UAAWpC,EAAQT,KAAzB,SAAgCiB,EAAWjB,aAI/C,sBAAK6C,UAAU,sCAAf,UACE,cAAC,IAAD,CACEA,UAAS,UAAKpC,EAAQL,QAAb,2BACTiD,UAAW,cAAC,IAAD,IACXC,QAAS,kBAAMjC,EAAQkC,KAAR,2BAAiCzC,KAHlD,iCAOyB,IAAxBG,EAAWuC,SACV,cAAC,IAAD,CACEX,UAAS,UAAKpC,EAAQL,QAAb,2BACTiD,UAAW,cAAC,IAAD,IACXC,QAAShB,EAHX,uCAQA,cAAC,IAAD,CACEO,UAAS,UAAKpC,EAAQL,QAAb,2BACTiD,UAAW,cAAC,IAAD,IACXC,QAASzB,EAHX,uCAQF,cAAC,IAAD,CACEgB,UAAS,UAAKpC,EAAQL,QAAb,sBACTiD,UAAW,cAAC,IAAD,IACXC,QAASd,EAHX","file":"static/js/34.ea14a49e.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"\n}), 'LockOpen');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');\n\nexports.default = _default;","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport InputCustom from \"components/UI/InputCustom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport userApi from \"./../apis/userApi\";\r\nimport useTitle from \"hooks/useTitle\";\r\nimport { setMessage } from \"redux/actions/messageAction\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { formatDate } from \"helper\";\r\nimport { useParams } from \"react-router\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ROUTES } from \"../constants\";\r\n\r\nconst useStyle = makeStyles(() => ({\r\n  wrap: {\r\n    minHeight: \"calc(100vh - 7.2rem)\",\r\n  },\r\n\r\n  root: {\r\n    backgroundColor: \"var(--bg-color-sec)\",\r\n    padding: \"1.5rem 2.5rem\",\r\n    borderRadius: \"var(--border-radius)\",\r\n    textAlign: \"center\",\r\n    boxShadow: \"var(--box-shadow)\",\r\n  },\r\n\r\n  avtWrap: {\r\n    width: \"15rem\",\r\n    height: \"15rem\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  avt: {\r\n    borderRadius: \"50%\",\r\n    border: \"2px solid var(--primary-color)\",\r\n  },\r\n\r\n  cameraIconWrap: {\r\n    position: \"absolute\",\r\n    right: 0,\r\n    bottom: 0,\r\n\r\n    width: \"4.2rem\",\r\n    height: \"4.2rem\",\r\n    padding: \"1.2rem\",\r\n\r\n    backgroundColor: \"var(--primary-color)\",\r\n    borderRadius: \"50%\",\r\n    cursor: \"pointer\",\r\n    border: \"solid 5px var(--bg-color-sec)\",\r\n\r\n    \"&:hover, &:active\": {\r\n      opacity: 0.85,\r\n    },\r\n  },\r\n\r\n  cameraIcon: {\r\n    color: \"var(--text-color)\",\r\n    fontSize: \"2rem\",\r\n  },\r\n\r\n  fileInput: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    top: 0,\r\n    left: 0,\r\n    opacity: 0,\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  name: {\r\n    fontSize: \"2.4rem\",\r\n    lineHeight: 1.5,\r\n    letterSpacing: \"0.75px\",\r\n  },\r\n\r\n  role: {\r\n    fontSize: \"1.5rem\",\r\n    fontWeight: 400,\r\n    color: \"var(--label-color)\",\r\n    letterSpacing: \"0.75px\",\r\n    textTransform: \"capitalize\",\r\n  },\r\n\r\n  info: {\r\n    margin: \"2.4rem 0\",\r\n\r\n    \"& p\": {\r\n      lineHeight: 2,\r\n      fontSize: \"1.6rem\",\r\n      letterSpacing: \"0.75px\",\r\n      color: \"var(--text-color)\",\r\n    },\r\n  },\r\n\r\n  coin: {\r\n    color: \"var(--label-color)\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"2rem\",\r\n  },\r\n  icon: {\r\n    fontSize: \"1.8rem\",\r\n    color: \"var(--grey)\",\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  visiblePw: {\r\n    color: \"var(--primary-color)\",\r\n  },\r\n  visibleConfirmPw: {\r\n    color: \"var(--primary-color)\",\r\n  },\r\n  editBtn: {\r\n    padding: \"5px 10px\",\r\n    width: \"100%\",\r\n  },\r\n  textError: {\r\n    marginTop: \"4px\",\r\n    color: \"var(--error-color)\",\r\n    fontSize: \"1.2rem\",\r\n    textAlign: \"left\",\r\n  },\r\n}));\r\n\r\nexport default function UserDetailPage() {\r\n  useTitle(\"User Detail\");\r\n  const classes = useStyle();\r\n  const { user } = useSelector((state) => state.authReducer);\r\n  const { user_id } = useParams();\r\n  const [userDetail, setUserDetail] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const res = await userApi.getUserDetails(user_id);\r\n      setUserDetail(res.data.user);\r\n    })();\r\n    return () => {};\r\n  }, [user_id]);\r\n\r\n  const handleLockUser = async () => {\r\n    if (user._id === user_id) {\r\n      dispatch(setMessage(\"This account is logging\", \"error\"));\r\n    } else {\r\n      try {\r\n        const res = await userApi.lockUser(user_id);\r\n        if (res) {\r\n          dispatch(setMessage(res.data.message, \"success\"));\r\n          window.location.reload();\r\n        }\r\n      } catch (err) {\r\n        dispatch(setMessage(err.response.data.message, \"error\"));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUnlockUser = async () => {\r\n    try {\r\n      const res = await userApi.unlockUser(user_id);\r\n      if (res) {\r\n        dispatch(setMessage(res.data.message, \"success\"));\r\n        window.location.reload();\r\n      }\r\n    } catch (err) {\r\n      dispatch(setMessage(err.response.data.message, \"error\"));\r\n    }\r\n  };\r\n  const handleDeleteUser = async () => {\r\n    if (user._id === user_id) {\r\n      dispatch(setMessage(\"This account is logging\", \"error\"));\r\n    } else {\r\n      try {\r\n        const res = await userApi.deleteUser(user_id);\r\n        if (res) {\r\n          dispatch(setMessage(res.data.message, \"success\"));\r\n          history.replace(ROUTES.USER_ADMIN);\r\n        }\r\n      } catch (err) {\r\n        dispatch(setMessage(err.response.data.message, \"error\"));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${classes.wrap} container flex-center`}>\r\n      <div className={classes.root}>\r\n        <div className=\"flex-center w-100 h-100\">\r\n          <div className={classes.avtWrap}>\r\n            <img\r\n              src={userDetail.avatar}\r\n              alt=\"\"\r\n              className={`${classes.avt} w-100 h-100`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-10\">\r\n          <h2 className={classes.name}>{userDetail.name}</h2>\r\n          <h4 className={classes.role}>{userDetail.roleType}</h4>\r\n        </div>\r\n\r\n        <div className={classes.info}>\r\n          <p>{userDetail.email}</p>\r\n          <p>Đã tham gia vào {formatDate(userDetail.createdAt)}</p>\r\n          <p>\r\n            Số coin hiện tại:{\" \"}\r\n            <span className={classes.coin}>{userDetail.coin}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"d-flex-center flex-center-col w-100\">\r\n          <Button\r\n            className={`${classes.editBtn} _btn _btn-primary mb-5`}\r\n            startIcon={<EditIcon />}\r\n            onClick={() => history.push(`/admin/user/edit/${user_id}`)}\r\n          >\r\n            Chỉnh sửa\r\n          </Button>\r\n          {userDetail.isLocked !== 0 ? (\r\n            <Button\r\n              className={`${classes.editBtn} _btn _btn-primary mb-5`}\r\n              startIcon={<LockOpenIcon />}\r\n              onClick={handleUnlockUser}\r\n            >\r\n              Mở tài khoản\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              className={`${classes.editBtn} _btn _btn-primary mb-5`}\r\n              startIcon={<LockIcon />}\r\n              onClick={handleLockUser}\r\n            >\r\n              Khóa tài khoản\r\n            </Button>\r\n          )}\r\n          <Button\r\n            className={`${classes.editBtn} _btn _btn-primary`}\r\n            startIcon={<DeleteIcon />}\r\n            onClick={handleDeleteUser}\r\n          >\r\n            Xoá tài khoản\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}